(function(t){function e(e){for(var a,r,i=e[0],l=e[1],c=e[2],u=0,p=[];u<i.length;u++)r=i[u],n[r]&&p.push(n[r][0]),n[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);d&&d(e);while(p.length)p.shift()();return o.push.apply(o,c||[]),s()}function s(){for(var t,e=0;e<o.length;e++){for(var s=o[e],a=!0,i=1;i<s.length;i++){var l=s[i];0!==n[l]&&(a=!1)}a&&(o.splice(e--,1),t=r(r.s=s[0]))}return t}var a={},n={app:0},o=[];function r(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=a,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(s,a,function(e){return t[e]}.bind(null,a));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var d=l;o.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";var a=s("64a9"),n=s.n(a);n.a},"1c02":function(t,e,s){"use strict";var a=s("1d09"),n=s.n(a);n.a},"1d09":function(t,e,s){},4108:function(t,e,s){},"428f":function(t,e,s){},4678:function(t,e,s){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(t){var e=o(t);return s(e)}function o(t){var e=a[t];if(!(e+1)){var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}return e}n.keys=function(){return Object.keys(a)},n.resolve=o,t.exports=n,n.id="4678"},"51c4":function(t,e,s){t.exports=s.p+"img/idea.f8559d58.png"},"56d7":function(t,e,s){"use strict";s.r(e);s("cadf"),s("551c"),s("f751"),s("097d");var a=s("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bg-light",attrs:{id:"app"}},[a("b-navbar",{staticClass:"shadow-sm p-3  bg-white rounded",attrs:{id:"main-nav",toggleable:"lg",type:"light",fixed:"top"}},[a("b-navbar-brand",{attrs:{to:"/"}},[a("img",{staticClass:"d-inline-block align-top avatar",attrs:{src:s("b50e"),alt:"BV"}}),a("span",{staticClass:"d-sm-none ml-2"},[t._v("Smart City")])]),a("b-navbar-toggle",{attrs:{target:"nav_collapse"}}),a("b-collapse",{attrs:{"is-nav":"",id:"nav_collapse"}},[a("b-navbar-nav",[a("b-nav-item",{attrs:{id:"hjem",to:"/"}},[t._v("Hjem")]),t.isLoggedIn?a("b-nav-item",{attrs:{id:"ny-idé",to:"/ny-idé"}},[t._v("Send idé")]):t._e(),a("b-nav-item",{attrs:{id:"prosjekter",to:"/prosjekter"}},[t._v("Prosjekter")]),a("b-nav-item",{attrs:{id:"om-oss",to:"/om-oss"}},[t._v("Om oss")])],1),a("b-navbar-nav",{staticClass:"ml-auto"},[t.isLoggedIn&&t.user.admin?a("b-nav-item",{attrs:{id:"dashbord",to:"/admin/dashbord/hjem"}},[t.newProjects.length<0?a("small",{attrs:{id:"notification"}},[t._v(t._s(t.newProjects.length))]):t._e(),t._v(" Dashboard")]):t._e(),t.isLoggedIn&&t.user?a("b-nav-item",{attrs:{id:"minSide",to:"/profil/"+t.user.slug}},[t._v("Min side")]):t._e(),t.isLoggedIn?t._e():a("b-nav-item",{on:{click:function(e){t.show_dialog=!0}}},[t._v("Logg Inn / Ny bruker")]),t.isLoggedIn?a("b-nav-item",{on:{click:t.onLogout}},[t._v("Logg ut")]):t._e()],1)],1)],1),a("testDialog",{attrs:{show:t.show_dialog}}),a("main",[a("div",{staticClass:"main-view bg-light"},[a("router-view")],1)]),t._m(0)],1)},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("footer",{staticClass:"footer border-top"},[s("div",{staticClass:"container"},[s("span",{staticClass:"text-muted"},[t._v("© Halden kommune")]),s("p",{staticClass:"text-muted"},[t._v("Laget Lars-Martin Antonsen og Kristine Hemstad")])])])}],r=(s("ac6a"),s("cebc")),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("b-modal",{ref:"myModalRef",staticClass:"m-0 p-0",attrs:{visible:t.show,"hide-footer":"",centered:"",title:"Smart City"}},[t.feil?s("app-feil",{attrs:{text:t.feil.message}}):t._e(),t.suksess?s("app-suksess",{attrs:{text:t.suksess.message}}):t._e(),s("b-tabs",{staticClass:"m-0 p-0 login-tabs"},[s("b-tab",{staticClass:"pt-2",attrs:{title:"Logg Inn"}},[s("form",{on:{submit:function(e){return e.preventDefault(),t.onLogin(t.user)}}},[s("div",{staticClass:"form-group"},[s("label",[t._v("E-post")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"form-control",attrs:{type:"email",placeholder:"Epost",required:""},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",[t._v("Passord")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Passord"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}})]),t.suksess?t._e():s("button",{staticClass:"btn hk-btn btn-block",attrs:{type:"submit"}},[t._v("Logg inn")]),t.suksess?s("button",{staticClass:"btn hk-btn btn-block",attrs:{type:"submit",disabled:""}},[s("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),s("div",{staticClass:"knapper mt-2"},[s("button",{staticClass:"btn btn-link text-center",staticStyle:{color:"rgb(0,114,187)"},on:{click:function(e){t.showModal(2),t.show=!t.show}}},[t._v("Glemt passord?")])])]),s("b-tab",{staticClass:"pt-2",attrs:{title:"Registrer deg"}},[s("form",{on:{submit:function(e){return e.preventDefault(),t.onRegister(t.user)}}},[s("div",{staticClass:"form-group"},[s("label",[t._v("* Epost")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"form-control",attrs:{type:"email",placeholder:"Epost",required:""},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",[t._v("* Fornavn")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.fnavn,expression:"user.fnavn"}],staticClass:"form-control",attrs:{type:"text","aria-describedby":"fnavnHelp",placeholder:"Fornavn",required:""},domProps:{value:t.user.fnavn},on:{input:function(e){e.target.composing||t.$set(t.user,"fnavn",e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",[t._v("* Etternavn")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.enavn,expression:"user.enavn"}],staticClass:"form-control",attrs:{type:"text","aria-describedby":"enavnHelp",placeholder:"Etternavn",required:""},domProps:{value:t.user.enavn},on:{input:function(e){e.target.composing||t.$set(t.user,"enavn",e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",[t._v("* Telefon")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.telefon,expression:"user.telefon"}],staticClass:"form-control",attrs:{type:"text","aria-describedby":"telefonHelp",placeholder:"Telefon",required:""},domProps:{value:t.user.telefon},on:{input:function(e){e.target.composing||t.$set(t.user,"telefon",e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",[t._v("* Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Password",required:""},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",[t._v("* Verifiser Passord")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password2,expression:"user.password2"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Verifiser Passord",required:""},domProps:{value:t.user.password2},on:{input:function(e){e.target.composing||t.$set(t.user,"password2",e.target.value)}}})]),s("div",{staticClass:"form-group form-check"},[s("input",{staticClass:"form-check-input",attrs:{type:"checkbox",required:""}}),s("label",{staticClass:"form-check-label"},[s("small",[t._v("Jeg godtar at Halden Kommune lagrer mine opplysninger. "),s("a",{staticClass:"text-primary",attrs:{href:"https://www.halden.kommune.no/selvbetjening_og_skjemaer/Sider/Personvernerkl%C3%A6ring.aspx",target:"_blank"}},[t._v("personverkerklæring")])])])]),s("div",{staticClass:"form-group"},[s("small",[t._v("Alle punktene med * må fylles ut")])]),t.suksess?t._e():s("button",{staticClass:"btn hk-btn btn-block",attrs:{type:"submit"}},[t._v("Registrer deg")]),t.suksess?s("button",{staticClass:"btn hk-btn btn-block",attrs:{type:"submit",disabled:""}},[s("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}})]):t._e(),s("div",{staticClass:"knapper mt-2"},[s("button",{staticClass:"btn btn-link",staticStyle:{color:"rgb(0,114,187)"},on:{click:t.hideModal}},[t._v("Avbryt")])])])])],1)],1),s("b-modal",{ref:"my-modal2",attrs:{centered:"","hide-footer":"",id:"modal-multi-2",title:"Glemt passord?"}},[t.feil?s("app-feil",{attrs:{text:t.feil.message}}):t._e(),t.suksess?s("app-suksess",{attrs:{text:t.suksess.message}}):t._e(),s("form",{on:{submit:function(e){return e.preventDefault(),t.resetPassord(t.bruker)}}},[s("div",{staticClass:"form-group"},[s("label",[t._v("Send nytt passord")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.bruker.email,expression:"bruker.email"}],staticClass:"form-control",attrs:{type:"email",placeholder:"Din e-post"},domProps:{value:t.bruker.email},on:{input:function(e){e.target.composing||t.$set(t.bruker,"email",e.target.value)}}})]),s("button",{staticClass:"btn hk-btn btn-block",attrs:{type:"submit"}},[t._v("Tilbakestill passord")])])],1)],1)},l=[],c=s("b747"),d=s.n(c),u=s("5118"),p=s("2f62"),m=s("8aa5"),b=s.n(m),f={apiKey:"AIzaSyCnNjX4E_mdAGKsfW2d6l7nYBA3ze-OROw",authDomain:"ideportalen-hk.firebaseapp.com",databaseURL:"https://ideportalen-hk.firebaseio.com",projectId:"ideportalen-hk",storageBucket:"ideportalen-hk.appspot.com",messagingSenderId:"75245132483",appId:"1:75245132483:web:8f2c7ac51f627a69"};b.a.initializeApp(f);var k=b.a,h={props:{show:Boolean},data:function(){return{melding:null,feil:null,suksess:null,user:{email:"",password:"",password2:"",fnavn:"",enavn:"",telefon:"",slug:""},bruker:{email:"",password:""}}},methods:Object(r["a"])({},Object(p["b"])("auth",["login","register"]),{onLogin:function(){var t=this;k.auth().signInWithEmailAndPassword(this.user.email,this.user.password).then(function(e){t.suksess={message:"Du blir logget inn"},Object(u["setTimeout"])(function(){return t.show=!1,t.suksess=!1,t.feil=!1},3e3)}).catch(function(e){t.feil={message:"Feil epost eller passord"}})},onRegister:function(){var t=this,e=d()(this.user.fnavn+" "+this.user.enavn,{replacement:"-",remove:/[$*_+~.()'"!\._@]/g,lower:!0});this.user.password===this.user.password2?k.firestore().collection("users").doc(this.user.telefon).get().then(function(s){s.exists?t.feil={message:"Telefon nummeret finnes fra før"}:k.auth().createUserWithEmailAndPassword(t.user.email,t.user.password).then(function(s){var a=s.user.uid;k.firestore().collection("users").doc(s.user.uid).set({email:t.user.email,fnavn:t.user.fnavn,enavn:t.user.enavn,telefon:t.user.telefon,isAdmin:!1,slug:e,joined:Date.now(),userId:a}).then(function(){t.suksess={message:"Du blir nå registrert"},Object(u["setTimeout"])(function(){return t.show=!1,t.suksess=!1,t.feil=!1},3e3)}).catch(function(e){t.feil={message:"Det har skjedd en feil med informasjonen du har tastet inn. Vennligst prøv igjen."},t.user.email=null,t.user.password=null,t.user.password2=null,t.user.telefon=null,t.user.fnavn=null,t.user.enavn=null})}).catch(function(e){t.feil={message:"Eposten du har tastet inn er i bruk."}})}):this.feil={message:"Passordene er ikke like"}},showModal:function(t){this.$refs["my-modal"+t].show(),this.feil=!1,this.suksess=!1},hideModal:function(){this.$refs["myModalRef"].hide()},resetPassord:function(t){var e=this;k.auth().sendPasswordResetEmail(t.email).then(function(){e.suksess={message:"En epost er blitt sendt for å tilbakestille passord"}}).catch(function(t){console.log(t.message),e.feil={message:"Eposten finnes ikke eller er skrevet feil"}}),Object(u["setTimeout"])(function(){return e.show=!0,e.$refs["my-modal2"].hide()},4e3)}})},g=h,v=s("2877"),j=Object(v["a"])(g,i,l,!1,null,null,null),_=j.exports,C={data:function(){return{show_dialog:!1,email:"",password:"",newProjects:[]}},components:{testDialog:_},computed:Object(p["c"])("auth",["user","isLoggedIn"]),methods:Object(r["a"])({},Object(p["b"])("auth",["login","logout"]),{onLogout:function(){var t=this;this.logout(),setTimeout(function(){return t.$router.push("/")},500)}}),created:function(){var t=this;k.firestore().collection("projects").where("kategori","==",null).onSnapshot(function(e){e.docChanges().forEach(function(e){"added"===e.type&&t.newProjects.push(e.doc.data())})})}},y=C,w=(s("034f"),Object(v["a"])(y,n,o,!1,null,null,null)),P=w.exports,x=s("8c4f"),E=(s("96cf"),s("3b8d")),S=k.firestore(),I=S,U={user:{},isLoggedIn:!1},$={setUser:function(t,e){e?(t.user=e,t.isLoggedIn=!0):(t.user={},t.isLoggedIn=!1)}},O={login:function(){var t=Object(E["a"])(regeneratorRuntime.mark(function t(e,s){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:k.auth().signInWithEmailAndPassword(s.email,s.password).then(function(t){}).catch(function(t){console.log(t)});case 1:case"end":return t.stop()}},t)}));function e(e,s){return t.apply(this,arguments)}return e}(),register:function(){var t=Object(E["a"])(regeneratorRuntime.mark(function t(e,s){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.getters,a=d()(s.fnavn+" "+s.enavn,{replacement:"-",remove:/[$*_+~.()'"!\._@]/g,lower:!0}),k.firestore().collection("users").doc(s.telefon).get().then(function(t){t.exists?console.log("Finnes"):k.auth().createUserWithEmailAndPassword(s.email,s.password).then(function(t){var e=t.user.uid;k.firestore().collection("users").doc(t.user.uid).set({email:s.email,fnavn:s.fnavn,enavn:s.enavn,telefon:s.telefon,isAdmin:!1,slug:a,joined:Date.now(),userId:e}).then(function(){console.log("oppdatert bruker")}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t)})});case 3:case"end":return t.stop()}},t)}));function e(e,s){return t.apply(this,arguments)}return e}(),logout:function(){var t=Object(E["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,k.auth().signOut();case 2:case"end":return t.stop()}},t)}));function e(){return t.apply(this,arguments)}return e}()},B={namespaced:!0,state:U,mutations:$,actions:O},L=s("78b6"),D={users:[]},T={usersById:function(t){return t.users.reduce(function(t,e){return t[e.id]=e,t},{})}},z={},N={namespaced:!0,state:D,actions:z,getters:T},M=(s("7f7f"),{prosjekter:[],admin:[]}),A={createProject:function(t,e){var s,a,n=t.commit,o={title:e.title,content:e.content,date:e.date,slug:e.slug,kategori:null,imageUrl:e.image,creatorId:k.auth().currentUser.uid};k.firestore().collection("projects").add(o).then(function(t){return a=t.id,a}).then(function(t){var s=e.image.name,a=s.slice(s.lastIndexOf("."));return k.storage().ref("projects/"+t+"."+a).put(e.image)}).then(function(t){return t.ref.getDownloadURL().then(function(t){return s=t,k.firestore().collection("projects").doc(a).update({imageUrl:t})})}).then(function(){n("createProject",Object(r["a"])({},o,{imageUrl:s,id:a}))}).catch(function(t){console.log(t)})}},H={namespaced:!0,state:M,actions:A};a["default"].use(p["a"]);var R=new p["a"].Store({mutations:Object(r["a"])({},L["vuexfireMutations"]),modules:{auth:B,users:N,prosjekter:H}}),F=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home-section bg-light",attrs:{id:"home-section"}},[s("section",{staticClass:"pt-5"},[s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row justify-content-between"},[s("div",{staticClass:"col-lg-4 order-3 order-lg-1 mb-3"},[s("div",{staticClass:"card h-100 shadow-sm home-section-box"},[t._m(0),s("router-link",{staticClass:"btn hk-btn",attrs:{to:"/om-oss",tag:"button"}},[t._v("Mer om Smart City")])],1)]),s("div",{staticClass:"col-lg-4 order-1 mb-3"},[s("div",{staticClass:"card h-100 shadow-sm home-section-box"},[t._m(1),t.isLoggedIn?s("router-link",{staticClass:"btn hk-btn",attrs:{to:"/ny-idé",tag:"button"}},[t._v("Send din Idé")]):t._e(),t.isLoggedIn?t._e():s("b-button",{staticClass:"btn hk-btn",on:{click:function(e){t.show_dialog=!t.show_dialog}}},[t._v("Logg inn for å sende idé")])],1)]),s("div",{staticClass:"col-lg-4 order-3 order-lg-1 mb-3"},[s("div",{staticClass:"card h-100 shadow-sm home-section-box"},[t._m(2),s("router-link",{staticClass:"btn hk-btn",attrs:{to:"/prosjekter",tag:"button"}},[t._v("Se Innovasjonsprosjekter")])],1)])])])]),s("testDialog",{attrs:{show:t.show_dialog}})],1)},q=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card-body"},[s("h3",{staticClass:"card-title"},[t._v("Smart City")]),s("p",{staticClass:"card-text"},[t._v("Smart City, eller smarte byer, er et begrep som brukes over hele verden og som forklarer hvordan byer og bygder skal utvikles til å bli bærekraftige og moderne samfunn. En smart by tar utgangspunkt i innbyggernes behov og tar i bruk ny teknologi for å gjøre byen til et bedre sted å leve, bo og arbeide.")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card-body"},[s("h3",{staticClass:"card-title"},[t._v("Har du en Innovasjonsidè?")]),s("p",{staticClass:"card-text"},[t._v("Med en innovasjonside menes forslag til endrede arbeidsmetoder, innføring av ny teknologi eller nye systemer som vil oppfylle minst en av følgende punkter")]),s("ol",[s("li",[t._v("Bedre kvalitet på tjenesten")]),s("li",[t._v("Bidra til en mer effektiv arbeidshverdag")]),s("li",[t._v("Gi innbyggerne bedre tjenester og/eller miljø")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card-body"},[s("h3",{staticClass:"card-title"},[t._v("Hva er et innovasjonsprosjekt?")]),s("p",{staticClass:"card-text"},[t._v("Et prosjekt som setter en Innovasjonside ut i livet. Når innovasjonsprosjektet er iverksatt vil dette gi en nytteverdi for ansatte og/eller innbyggere. I et prosjekt definerer vi mål for hva vi vil oppnå og arbeider etter en plan for å nå målet.")])])}],V={name:"home",data:function(){return{show_dialog:!1}},components:{testDialog:_},created:function(){document.title="Hjem";var t=document.getElementById("hjem");t.classList.add("active","hk-nav-active")},destroyed:function(){var t=document.getElementById("hjem");t.classList.remove("active","hk-nav-active")},computed:Object(r["a"])({},Object(p["c"])("auth",["user","isLoggedIn"]))},G=V,W=Object(v["a"])(G,F,q,!1,null,null,null),K=W.exports,J=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"about",attrs:{id:"home-section"}},[s("b-container",[s("b-row",[s("b-col",[s("b-card-group",{attrs:{deck:""}},[s("b-card",{staticClass:"text-left hello"},[s("h2",[t._v("Smart City Halden")]),s("p",[t._v("Smart City, eller smarte byer, er et begrep som brukes over hele verden og som forklarer hvordan byer og bygder\n                skal utvikles til å bli bærekraftige og moderne samfunn. En smart by tar utgangspunkt i innbyggernes behov og tar i bruk ny teknologi for å gjøre byen til et bedre sted å leve, bo og arbeide. Halden kommune ønsker å være Norges mest innovative kommune og dette preger også kommunens Smart City-satsning. Vi ønsker å teste ut nye løsninger og teknologi og vi er åpne for å motta ideer og innspill slik at Halden kommune fortsetter å være en fremtidsrettet og attraktiv kommune å bo i.")])])],1)],1)],1)],1)],1)},X=[],Y={data:function(){return{}},created:function(){document.title="Om-oss";var t=document.getElementById("om-oss");t.classList.add("active","hk-nav-active")},destroyed:function(){document.title="Prosjekter";var t=document.getElementById("om-oss");t.classList.remove("active","hk-nav-active")}},Q=Y,Z=(s("5fa6"),Object(v["a"])(Q,J,X,!1,null,"1bb3907a",null)),tt=Z.exports,et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container pt-4"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col text-center pt-3"},[a("p",{staticClass:"d-lg-none h4"},[t._v("Prosjekter i produksjon")]),a("router-link",{staticClass:" my-2 btn btn-lg hk-btn",attrs:{to:"/prosjekter"}},[t._v("Prosjekter i produksjon")]),a("router-link",{staticClass:"ml-2 my-2 btn btn-lg hk-btn",attrs:{to:"/prosjekter/utvalgte"}},[t._v("Utvalgte prosjekter")]),a("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"ml-4",attrs:{title:"Prosjekter i produksjon viser prosjekter som er blitt realisert"}},[a("i",{staticClass:"far fa-question-circle"})]),a("p",{staticClass:"h1 d-none d-lg-block pb-4"},[t._v("Prosjekter i Produksjon")])],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"overflow-auto"},[a("section",{staticClass:"my-5 text-center",attrs:{id:"prosjekter"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},t._l(t.prosjekt.slice((t.currentPage-1)*t.perPage,(t.currentPage-1)*t.perPage+6),function(e){return a("div",{key:e.id,staticClass:"col-lg-4 col-md-6 pb-5"},[a("div",{staticClass:"card shadow-sm h-100"},[a("div",{staticClass:"card-body"},[e.imageUrl?a("img",{staticClass:"img-fluid rounded-circle w-50 mb-3",attrs:{src:e.imageUrl,alt:"Prosjekt bilde fra innsender"}}):a("img",{staticClass:"img-fluid rounded-circle w-50 mb-3",attrs:{src:s("c800"),alt:"Standard prosjekt bilde om innsender ikke legger ved ett"}}),a("h3",[t._v(t._s(e.data.title))]),a("hr"),a("div",{domProps:{innerHTML:t._s(e.data.content.slice(0,60))}})]),a("router-link",{staticClass:"btn hk-btn mx-3 mb-2",attrs:{router:"",to:"/prosjekt/"+e.id}},[t._v("Les mer")]),a("div",{staticClass:"card-footer"},[a("small",{staticClass:"text-muted"},[t._v("Innsendt: "+t._s(t.moment(e.data.date).format("lll")))])])],1)])}),0)])]),a("b-pagination",{staticClass:"pb-4",attrs:{align:"center","total-rows":t.prosjekt.length,"per-page":t.perPage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)])])])},st=[],at=s("c1df"),nt=s.n(at),ot={name:"Prosjekt",data:function(){return{perPage:6,currentPage:1,prosjekt:[],moment:nt.a}},created:function(){var t=this;document.title="Prosjekter";var e=document.getElementById("prosjekter");e.classList.add("active","hk-nav-active"),b.a.firestore().collection("projects").where("synlig","==",!0).orderBy("date","desc").onSnapshot(function(e){e.docChanges().forEach(function(e){"added"==e.type&&t.prosjekt.push({data:e.doc.data(),id:e.doc.id})})})},destroyed:function(){var t=document.getElementById("prosjekter");t.classList.remove("active","hk-nav-active")},computed:{rows:function(){return this.prosjekt.length}}},rt=ot,it=(s("d726"),Object(v["a"])(rt,et,st,!1,null,null,null)),lt=it.exports,ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"min-side bg-light"},[a("div",{staticClass:"pt-5"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-4 col-lg-4 col-md-12 col-xs-10"},[a("div",{staticClass:"card shadow-sm"},[a("div",{staticClass:"card-header"},[t._v("\n                        Min info\n                    ")]),a("div",{staticClass:"card-body"},[a("p",{staticClass:"d-flex"},[a("i",{staticClass:"fas fa-envelope pt-1 pr-1"}),t._v(" "+t._s(t.user.email)+" "),a("button",{staticClass:"btn hk-outline-btn btn-sm ml-auto",on:{click:function(e){return t.showModal(1)}}},[t._v("Endre epost")])]),a("p",[a("i",{staticClass:"fas fa-user"}),t._v(" "+t._s(t.user.fnavn)+" "+t._s(t.user.enavn))]),a("p",{staticClass:"d-flex"},[a("i",{staticClass:"fas fa-phone pt-1 pr-1"}),t._v(" "+t._s(t.user.telefon)+" "),a("button",{staticClass:"btn hk-outline-btn btn-sm ml-auto",on:{click:function(e){return t.showModal(3)}}},[t._v("Endre telefon")])]),a("p",{staticClass:"d-flex card-text text-muted"},[t._v("Ble medlem: "+t._s(t.moment(t.user.joined).format("lll"))+" "),a("button",{staticClass:"btn hk-outline-danger btn-sm ml-auto",on:{click:function(e){return t.showModal(4)}}},[t._v("Slett bruker")])])])])]),a("div",{staticClass:"col-xl-6 col-lg-8 col-md-12"},[a("div",{staticClass:"container"},t._l(t.prosjekter.slice((t.currentPage-1)*t.perPage,(t.currentPage-1)*t.perPage+4),function(e){return a("b-media",{key:e.id,staticClass:"border p-3 my-3 shadow-sm d-flex",attrs:{"vertical-align":"center"}},[e.data.imageUrl?a("img",{attrs:{slot:"aside",src:e.data.imageUrl,blank:"","blank-color":"#ccc",width:"80",height:"80",alt:"placeholder"},slot:"aside"}):a("img",{attrs:{slot:"aside",src:s("c800"),blank:"","blank-color":"#ccc",width:"80",height:"80",alt:"placeholder"},slot:"aside"}),a("h5",{staticClass:"mt-0 mb-1"},[t._v(t._s(e.data.title))]),a("p",{staticClass:"mb-0"},[t._v(t._s(e.data.content))]),a("p",[a("small",{staticClass:"text-muted"},[t._v(t._s(t.moment(e.data.date).format("lll")))])]),a("div",{staticClass:"mt-1 d-flex"},[a("router-link",{staticClass:"btn hk-btn mt-auto",attrs:{router:"",to:"/prosjekt/"+e.id}},[t._v("Les mer")]),"produksjon"==e.data.kategori?a("span",{staticClass:"ml-auto"},[t._v(t._s(e.data.kategori))]):t._e()],1)])}),1),t.prosjekter.length>4?a("b-pagination",{staticClass:"pb-4",attrs:{align:"center","total-rows":t.prosjekter.length,"per-page":t.perPage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}):t._e()],1)])]),a("b-modal",{ref:"my-modal1",attrs:{centered:"","hide-footer":"",id:"modal-multi-1",title:"Endre epost adresse","no-stacking":""}},[t.feil?a("app-feil",{attrs:{text:t.feil.message}}):t._e(),t.suksess?a("app-suksess",{attrs:{text:t.suksess.message}}):t._e(),a("form",{on:{submit:function(e){return e.preventDefault(),t.endreEpost(t.bruker)}}},[a("div",{staticClass:"form-group"},[a("label",[t._v("Ny e-post")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.bruker.email,expression:"bruker.email"}],staticClass:"form-control",attrs:{type:"email",placeholder:"Ny e-post"},domProps:{value:t.bruker.email},on:{input:function(e){e.target.composing||t.$set(t.bruker,"email",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Passord "),a("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:"Du må skrive inn passordet til kontoen din for å kunne bytte epost adresse"}},[a("i",{staticClass:"far fa-question-circle"})])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.bruker.password,expression:"bruker.password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Passord"},domProps:{value:t.bruker.password},on:{input:function(e){e.target.composing||t.$set(t.bruker,"password",e.target.value)}}})]),a("button",{staticClass:"btn hk-btn btn-block",attrs:{type:"submit"}},[t._v("Lagre")])]),a("div",{staticClass:"knapper mt-2"},[a("button",{staticClass:"btn btn-link",staticStyle:{color:"rgb(0,114,187)"},on:{click:function(e){return t.showModal(2)}}},[t._v("Glemt passord?")])])],1),a("b-modal",{ref:"my-modal2",attrs:{centered:"","hide-footer":"",id:"modal-multi-2",title:"Glemt passord?"}},[t.feil?a("app-feil",{attrs:{text:t.feil.message}}):t._e(),t.suksess?a("app-suksess",{attrs:{text:t.suksess.message}}):t._e(),a("form",{on:{submit:function(e){return e.preventDefault(),t.resetPassord(t.bruker)}}},[a("div",{staticClass:"form-group"},[a("label",[t._v("Send nytt passord")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.bruker.email,expression:"bruker.email"}],staticClass:"form-control",attrs:{type:"email",placeholder:"Din e-post"},domProps:{value:t.bruker.email},on:{input:function(e){e.target.composing||t.$set(t.bruker,"email",e.target.value)}}})]),a("button",{staticClass:"btn hk-btn btn-block",attrs:{type:"submit"}},[t._v("Tilbakestill passord")])])],1),a("b-modal",{ref:"my-modal3",attrs:{centered:"","hide-footer":"",id:"modal3",title:"Endre telefonnummer"}},[t.feil?a("app-feil",{attrs:{text:t.feil.message}}):t._e(),t.suksess?a("app-suksess",{attrs:{text:t.suksess.message}}):t._e(),a("form",{on:{submit:function(e){return e.preventDefault(),t.endreTlf(t.tlf)}}},[a("div",{staticClass:"form-group"},[a("label",[t._v("Nytt telefonnummer")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tlf.telefon,expression:"tlf.telefon"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Nytt telefonnummer"},domProps:{value:t.tlf.telefon},on:{input:function(e){e.target.composing||t.$set(t.tlf,"telefon",e.target.value)}}}),t.tlfFeedback?a("small",{staticClass:"form-text text-danger"},[t._v(t._s(t.tlfFeedback))]):t._e()]),t.suksess?t._e():a("button",{staticClass:"btn hk-btn btn-block",attrs:{type:"submit"}},[t._v("Lagre")]),t.suksess?a("button",{staticClass:"btn hk-btn btn-block",attrs:{type:"submit",disabled:""}},[a("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}})]):t._e()])],1),a("b-modal",{ref:"my-modal4",attrs:{centered:"","hide-footer":"",id:"modal-multi-4",title:"Slett brukerkonto","no-stacking":""}},[t.feil?a("app-feil",{attrs:{text:t.feil.message}}):t._e(),t.suksess?a("app-suksess",{attrs:{text:t.suksess.message}}):t._e(),a("form",[a("div",{staticClass:"form-group"},[a("label",[t._v("Slett din brukerkonto")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.bruker.email,expression:"bruker.email"}],staticClass:"form-control",attrs:{type:"email",placeholder:"Din epost"},domProps:{value:t.bruker.email},on:{input:function(e){e.target.composing||t.$set(t.bruker,"email",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Passord "),a("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:"For å kunne slette din konto må du verifisere passordet knyttet til din epost"}},[a("i",{staticClass:"far fa-question-circle"})])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.bruker.password,expression:"bruker.password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Passord"},domProps:{value:t.bruker.password},on:{input:function(e){e.target.composing||t.$set(t.bruker,"password",e.target.value)}}})])]),a("button",{staticClass:"btn hk-outline-danger btn-block",on:{click:function(e){return t.showModal(5)}}},[t._v("Slett")])],1),a("b-modal",{ref:"my-modal5",attrs:{centered:"","hide-footer":"",id:"modal-multi-5",title:"Glemt passord?"}},[t.feil?a("app-feil",{attrs:{text:t.feil.message}}):t._e(),t.suksess?a("app-suksess",{attrs:{text:t.suksess.message}}):t._e(),a("form",{on:{submit:function(e){return e.preventDefault(),t.slettBruker(t.bruker)}}},[a("div",{staticClass:"form-group"},[a("h3",[t._v("Er du sikker på at du vil slette din konto hos oss?")])]),a("button",{staticClass:"btn hk-btn-red btn-block",attrs:{type:"submit"}},[t._v("Slett")]),a("button",{staticClass:"btn hk-btn btn-block",on:{click:function(e){return t.hideModal(5)}}},[t._v("Angre")])])],1)],1)},dt=[],ut={props:["id"],data:function(){return{show:!1,moment:nt.a,prosjekter:[],perPage:4,currentPage:1,tlfFeedback:"",suksess:!1,feil:!1,bruker:{email:"",password:""},tlf:{telefon:""}}},computed:Object(r["a"])({},Object(p["c"])("auth",["user","isLoggedIn"]),{rows:function(){return this.prosjekter.length}}),methods:{showModal:function(t){this.$refs["my-modal"+t].show(),this.feil=!1,this.suksess=!1},hideModal:function(t){this.$refs["my-modal"+t].hide(),this.feil=!1,this.suksess=!1},endreEpost:function(t){var e=this,s=k.auth().currentUser,a=k.auth.EmailAuthProvider.credential(this.user.email,t.password);s.reauthenticateAndRetrieveDataWithCredential(a).then(function(){}).then(function(){k.auth().currentUser.updateEmail(t.email).then(function(){console.log("Oppdatert epost til: "+t.email),k.firestore().collection("users").doc(e.user.id).update({email:t.email}).then(function(){e.suksess={message:"Din e-post er nå oppdatert!"},location.reload()}).catch(function(t){e.feil={message:t.message}})}).catch(function(t){e.feil={message:t.message}})}).catch(function(t){this.feil={message:t.message}})},resetPassord:function(t){var e=this;k.auth().sendPasswordResetEmail(t.email).then(function(){e.suksess={message:"En epost er blitt sendt for å tilbakestille passord"}}).catch(function(t){console.log(t.message),e.feil={message:"Eposten finnes ikke eller er skrevet feil"}})},endreTlf:function(t){var e=this;console.log(t.telefon),t.telefon.length>8?(this.feil={message:"Telefonnummeret er for langt"},this.suksess=!1):(this.feil=!1,k.firestore().collection("users").doc(this.user.id).update({telefon:t.telefon}).then(function(){e.feil=!1,Object(u["setTimeout"])(function(){e.$refs["my-modal3"].hide()},3e3)}).catch(function(t){console.log(t),e.feil=t}))},slettBruker:function(t){var e=this;console.log(this.user);var s=k.auth().currentUser,a=k.auth.EmailAuthProvider.credential(t.email,t.password);s.reauthenticateAndRetrieveDataWithCredential(a).then(function(){}).then(function(){k.auth().currentUser.delete().then(function(){e.suksess={message:"Du er nå slettet!"},Object(u["setTimeout"])(function(){return e.$router.push("/")},500)}).catch(function(t){e.feil={message:t.message}})}).catch(function(t){this.feil={message:t.message}}),k.firestore().collection("users").doc(this.user.id).delete().then(function(){var t=this;Object(u["setTimeout"])(function(){return t.$router.push("/")},500)}).catch(function(t){e.feil=t})}},created:function(){var t=this;document.title="Min Side";var e=document.getElementById("minSide");e.classList.add("active","hk-nav-active"),k.firestore().collection("projects").where("creatorId","==",k.auth().currentUser.uid).orderBy("date","desc").onSnapshot(function(e){e.forEach(function(e){t.prosjekter.push({data:e.data(),id:e.id})})})},destroyed:function(){var t=document.getElementById("minSide");t.classList.remove("active","hk-nav-active")}},pt=ut,mt=Object(v["a"])(pt,ct,dt,!1,null,null,null),bt=mt.exports,ft=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex",attrs:{id:"wrapper"}},[s("div",{staticClass:"bg-light border-right dash-nav",attrs:{id:"sidebar-wrapper"}},[s("div",{staticClass:"sidebar-heading"},[t._v("Administrator")]),s("div",{staticClass:"list-group list-group-flush"},[s("a",{staticClass:"list-group-item list-group-item-action bg-light",attrs:{href:"#"},on:{click:function(e){return t.link("hjem")}}},[t._v("Dashbord "),s("span",{staticClass:"ml-auto dash-antall hk-blue px-2"},[t._v(t._s(t.hjem))])]),s("a",{staticClass:"list-group-item list-group-item-action bg-light",attrs:{href:"#"},on:{click:function(e){return t.link("synlige")}}},[t._v("Prosjekter som er synlige "),s("span",{staticClass:"ml-auto dash-antall hk-blue px-2"},[t._v(t._s(t.synlig))])]),s("a",{staticClass:"list-group-item list-group-item-action bg-light",attrs:{href:"#"},on:{click:function(e){return t.link("interne")}}},[t._v("Interne felles "),s("span",{staticClass:"ml-auto dash-antall hk-blue px-2"},[t._v(t._s(t.interne))])]),s("a",{staticClass:"list-group-item list-group-item-action bg-light",attrs:{href:"#"},on:{click:function(e){return t.link("eksterne")}}},[t._v("Eksterne "),s("span",{staticClass:"ml-auto dash-antall hk-blue px-2"},[t._v(t._s(t.eksterne))])]),s("a",{staticClass:"list-group-item list-group-item-action bg-light",attrs:{href:"#"},on:{click:function(e){return t.link("produksjon")}}},[t._v("Produksjon "),s("span",{staticClass:"ml-auto dash-antall hk-blue px-2"},[t._v(t._s(t.produksjon))])]),s("a",{staticClass:"list-group-item list-group-item-action bg-light",attrs:{href:"#"},on:{click:function(e){return t.link("utvalgte")}}},[t._v("Utvalgte "),s("span",{staticClass:"ml-auto dash-antall hk-blue px-2"},[t._v(t._s(t.utvalgte))])]),s("a",{staticClass:"list-group-item list-group-item-action bg-light",attrs:{href:"#"},on:{click:function(e){return t.link("skole")}}},[t._v("Skole "),s("span",{staticClass:"ml-auto dash-antall hk-blue px-2"},[t._v(t._s(t.skole))])]),s("a",{staticClass:"list-group-item list-group-item-action bg-light",attrs:{href:"#"},on:{click:function(e){return t.link("teknisk")}}},[t._v("Teknisk "),s("span",{staticClass:"ml-auto dash-antall hk-blue px-2"},[t._v(t._s(t.teknisk))])]),s("a",{staticClass:"list-group-item list-group-item-action bg-light",attrs:{href:"#"},on:{click:function(e){return t.link("helse")}}},[t._v("Helse "),s("span",{staticClass:"ml-auto dash-antall hk-blue px-2"},[t._v(t._s(t.helse))])]),s("a",{staticClass:"list-group-item list-group-item-action bg-light border-bottom",attrs:{href:"#"},on:{click:function(e){return t.link("brukere")}}},[t._v("Brukere "),s("span",{staticClass:"ml-auto dash-antall hk-blue px-2"},[t._v(t._s(t.brukere))])])])]),s("div",{attrs:{id:"page-content-wrapper"}},[s("button",{staticClass:"btn btn-primary sideMenu mt-2 ml-2",attrs:{id:"menu-toggle"},on:{click:t.toggleSideBar}},[t._v("Vis meny")]),s("div",{staticClass:"container-fluid"},[s("router-view")],1)])])},kt=[],ht=s("1157"),gt=s.n(ht),vt=gt.a,jt={data:function(){return{interne:null,eksterne:null,produksjon:null,utvalgte:null,hjem:null,skole:null,teknisk:null,helse:null,synlig:null,brukere:null}},methods:{link:function(t){console.log(t),this.$router.push(t)},toggleSideBar:function(){console.log("sidebar"),vt("#menu-toggle").click(function(t){t.preventDefault(),vt("#wrapper").toggleClass("toggled")})}},created:function(){var t=this;document.title="Admin - Dashbord";var e=document.getElementById("dashbord");e.classList.add("active","hk-nav-active"),k.firestore().collection("projects").where("kategori","==","internt").orderBy("date").onSnapshot(function(e){t.interne=e.size}),k.firestore().collection("projects").where("kategori","==","eksternt").orderBy("date").onSnapshot(function(e){t.eksterne=e.size}),k.firestore().collection("projects").where("kategori","==","produksjon").orderBy("date").onSnapshot(function(e){t.produksjon=e.size}),k.firestore().collection("projects").where("kategori","==","utvalgt").orderBy("date").onSnapshot(function(e){t.utvalgte=e.size}),k.firestore().collection("projects").where("kategori","==",null).orderBy("date").onSnapshot(function(e){t.hjem=e.size}),k.firestore().collection("projects").where("kategori","==","skole").orderBy("date").onSnapshot(function(e){t.skole=e.size}),k.firestore().collection("projects").where("kategori","==","teknisk").orderBy("date").onSnapshot(function(e){t.teknisk=e.size}),k.firestore().collection("projects").where("kategori","==","helse").orderBy("date").onSnapshot(function(e){t.helse=e.size}),k.firestore().collection("users").onSnapshot(function(e){t.brukere=e.size}),k.firestore().collection("projects").where("synlig","==",!0).orderBy("date").onSnapshot(function(e){t.synlig=e.size})},destroyed:function(){var t=document.getElementById("dashbord");t.classList.remove("active","hk-nav-active")}},_t=jt,Ct=(s("cdf4"),Object(v["a"])(_t,ft,kt,!1,null,"37b50ba6",null)),yt=Ct.exports,wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Toasts"),t._m(0),a("div",{staticClass:"table-responsive"},t._l(t.prosjekt,function(e,n){return a("b-media",{key:e.id,staticClass:"border p-3 my-3 shadow-sm bg-white",attrs:{"vertical-align":"center"}},[e.imageUrl?a("img",{staticClass:"d-none d-sm-block",attrs:{slot:"aside",src:e.imageUrl,blank:"","blank-color":"#ccc",width:"80",height:"80",alt:"placeholder"},slot:"aside"}):a("img",{staticClass:"d-none d-sm-block",attrs:{slot:"aside",src:s("c800"),blank:"","blank-color":"#ccc",width:"80",height:"80",alt:"placeholder"},slot:"aside"}),a("h5",{staticClass:"mt-0 mb-1"},[t._v(t._s(e.title))]),a("p",{staticClass:"mb-0"},[t._v(t._s(e.content))]),a("p",[a("small",{staticClass:"text-muted"},[t._v(t._s(e.date))])]),a("div",{staticClass:"btn-group pt-2",attrs:{role:"group","aria-label":"Basic example"}},[a("b-button",{staticClass:" hk-outline-btn",attrs:{to:"/prosjekt/"+e.id}},[t._v("Les mer")]),a("button",{staticClass:"btn hk-outline-danger",attrs:{type:"button"},on:{click:function(s){return t.slettProsjekt(e,n)}}},[t._v("Slett")]),a("button",{staticClass:"btn hk-outline-btn",attrs:{type:"button"},on:{click:function(s){return t.oppdaterProsjekt(e,n,"produksjon")}}},[t._v("Produksjon")])],1),a("div",{staticClass:"btn-group pt-2",attrs:{role:"group"}},[a("button",{staticClass:"btn hk-outline-btn",attrs:{type:"button"},on:{click:function(s){return t.oppdaterProsjekt(e,n,"internt")}}},[t._v("Interne")]),a("button",{staticClass:"btn hk-outline-btn",attrs:{type:"button"},on:{click:function(s){return t.oppdaterProsjekt(e,n,"eksternt")}}},[t._v("Eksterne")]),a("button",{staticClass:"btn hk-outline-btn",attrs:{type:"button"},on:{click:function(s){return t.oppdaterProsjekt(e,n,"utvalgt")}}},[t._v("Utvalgt")])]),a("div",{staticClass:"btn-group pt-2",attrs:{role:"group"}},[a("button",{staticClass:"btn hk-outline-btn",attrs:{type:"button"},on:{click:function(s){return t.oppdaterProsjekt(e,n,"skole")}}},[t._v("Skole")]),a("button",{staticClass:"btn hk-outline-btn",attrs:{type:"button"},on:{click:function(s){return t.oppdaterProsjekt(e,n,"teknisk")}}},[t._v("Teknisk")]),a("button",{staticClass:"btn hk-outline-btn",attrs:{type:"button"},on:{click:function(s){return t.oppdaterProsjekt(e,n,"helse")}}},[t._v("Helse")])])])}),1)],1)},Pt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"},[s("h1",{staticClass:"h2"},[t._v("Dashboard - Nye innkommende forslag")])])}],xt={data:function(){return{prosjekt:[]}},mounted:function(){this.init(),this.initAdmin()},computed:Object(r["a"])({},Object(p["c"])("prosjekter",["prosjekter","admin"])),created:function(){var t=this;b.a.firestore().collection("projects").where("kategori","==",null).orderBy("date","desc").onSnapshot(function(e){e.docChanges().forEach(function(e){"added"==e.type&&t.prosjekt.push({id:e.doc.id,title:e.doc.data().title,content:e.doc.data().content,imageUrl:e.doc.data().imageUrl,date:nt()(e.doc.data().date).format("lll"),slug:e.doc.data().slug,creatorId:e.doc.data().creatorId,kategori:e.doc.data().kategori})})})},methods:Object(r["a"])({},Object(p["b"])("prosjekter",["init","initAdmin"]),{oppdaterProsjekt:function(t,e,s){var a=this;this.prosjekt.splice(e,1),b.a.firestore().collection("projects").doc(t.id).update({kategori:s}).then(function(){console.log("oppdatert til: "+s+" "+t.title),a.$toast.success('Flyttet "'+t.title+'" til '+s)}).catch(function(t){console.log(t),a.$toast.error("Kunne ikke oppdatere prosjektet. Refresh siden og prøv på nytt.")})},slettProsjekt:function(t,e){this.prosjekt.splice(e,1),b.a.firestore().collection("projects").doc(t.id).delete(),this.$toast.warning("Prosjektet har blitt slettet.")}})},Et=xt,St=Object(v["a"])(Et,wt,Pt,!1,null,null,null),It=St.exports,Ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"},[a("h1",{staticClass:"h2"},[t._v("Dashboard - Interne prosjekter "),a("span",{attrs:{interne:t.prosjekt.length}})])]),a("div",{staticClass:"table-responsive"},t._l(t.prosjekt,function(e,n){return a("b-media",{key:e.id,staticClass:"border p-3 my-3 shadow-sm bg-white",attrs:{"vertical-align":"center"}},[e.imageUrl?a("img",{staticClass:"d-none d-sm-block",attrs:{slot:"aside",src:e.imageUrl,blank:"","blank-color":"#ccc",width:"80",height:"80",alt:"placeholder"},slot:"aside"}):a("img",{staticClass:"d-none d-sm-block",attrs:{slot:"aside",src:s("c800"),blank:"","blank-color":"#ccc",width:"80",height:"80",alt:"placeholder"},slot:"aside"}),a("h5",{staticClass:"mt-0 mb-1"},[t._v(t._s(e.title))]),a("p",{staticClass:"mb-0"},[t._v(t._s(e.content))]),a("p",[a("small",{staticClass:"text-muted"},[t._v(t._s(e.date))])]),a("div",{staticClass:"btn-group pt-2",attrs:{role:"group","aria-label":"Basic example"}},[a("b-button",{staticClass:" hk-outline-btn",attrs:{to:"/prosjekt/"+e.id}},[t._v("Les mer")]),a("button",{staticClass:"btn hk-outline-danger",attrs:{type:"button"},on:{click:function(s){return t.slettProsjekt(e,n)}}},[t._v("Slett")]),a("button",{staticClass:"btn hk-outline-btn",attrs:{type:"button"},on:{click:function(s){return t.oppdaterProsjekt(e,n,"produksjon")}}},[t._v("Produksjon")])],1),a("div",{staticClass:"btn-group pt-2",attrs:{role:"group"}},[a("button",{staticClass:"btn hk-outline-btn",attrs:{type:"button"},on:{click:function(s){return t.oppdaterProsjekt(e,n,"eksternt")}}},[t._v("Eksterne")]),a("button",{staticClass:"btn hk-outline-btn",attrs:{type:"button"},on:{click:function(s){return t.oppdaterProsjekt(e,n,"utvalgt")}}},[t._v("Utvalgt")])]),a("div",{staticClass:"btn-group pt-2",attrs:{role:"group"}},[a("button",{staticClass:"btn hk-outline-btn",attrs:{type:"button"},on:{click:function(s){return t.oppdaterProsjekt(e,n,"skole")}}},[t._v("Skole")]),a("button",{staticClass:"btn hk-outline-btn",attrs:{type:"button"},on:{click:function(s){return t.oppdaterProsjekt(e,n,"teknisk")}}},[t._v("Teknisk")]),a("button",{staticClass:"btn hk-outline-btn",attrs:{type:"button"},on:{click:function(s){return t.oppdaterProsjekt(e,n,"helse")}}},[t._v("Helse")])])])}),1)])},$t=[],Ot={data:function(){return{prosjekt:[]}},created:function(){var t=this;b.a.firestore().collection("projects").where("kategori","==","internt").orderBy("date").onSnapshot(function(e){e.docChanges().forEach(function(e){"added"==e.type&&t.prosjekt.push({id:e.doc.id,title:e.doc.data().title,content:e.doc.data().content,imageUrl:e.doc.data().imageUrl,date:nt()(e.doc.data().date).format("lll"),slug:e.doc.data().slug,creatorId:e.doc.data().creatorId,kategori:e.doc.data().kategori})})})},methods:{oppdaterProsjekt:function(t,e,s){this.prosjekt.splice(e,1),b.a.firestore().collection("projects").doc(t.id).update({kategori:s}).then(function(){console.log("oppdatert til: "+s+" "+t.title)}).catch(function(t){console.log(t)})},slettProsjekt:function(t,e){this.prosjekt.splice(e,1),b.a.firestore().collection("projects").doc(t.id).delete()}}},Bt=Ot,Lt=Object(v["a"])(Bt,Ut,$t,!1,null,null,null),Dt=Lt.exports,Tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("div",{staticClass:"table-responsive"},t._l(t.prosjekt,function(e,n){return a("b-media",{key:e.id,staticClass:"border p-3 my-3 shadow-sm bg-white",attrs:{"vertical-align":"center"}},[e.imageUrl?a("img",{staticClass:"d-none d-sm-block",attrs:{slot:"aside",src:e.imageUrl,blank:"","blank-color":"#ccc",width:"80",height:"80",alt:"placeholder"},slot:"aside"}):a("img",{staticClass:"d-none d-sm-block",attrs:{slot:"aside",src:s("c800"),blank:"","blank-color":"#ccc",width:"80",height:"80",alt:"placeholder"},slot:"aside"}),a("h5",{staticClass:"mt-0 mb-1"},[t._v(t._s(e.title))]),a("p",{staticClass:"mb-0"},[t._v(t._s(e.content))]),a("p",[a("small",{staticClass:"text-muted"},[t._v(t._s(e.date))])]),a("div",{staticClass:"btn-group pt-2",attrs:{role:"group","aria-label":"Basic example"}},[a("b-button",{staticClass:" hk-outline-btn",attrs:{to:"/prosjekt/"+e.id}},[t._v("Les mer")]),a("button",{staticClass:"btn hk-outline-danger",attrs:{type:"button"},on:{click:function(s){return t.slettProsjekt(e,n)}}},[t._v("Slett")]),a("button",{staticClass:"btn hk-outline-btn",attrs:{type:"button"},on:{click:function(s){return t.oppdaterProsjekt(e,n,"produksjon")}}},[t._v("Produksjon")])],1),a("div",{staticClass:"btn-group pt-2",attrs:{role:"group"}},[a("button",{staticClass:"btn hk-outline-btn",attrs:{type:"button"},on:{click:function(s){return t.oppdaterProsjekt(e,n,"internt")}}},[t._v("Interne")]),a("button",{staticClass:"btn hk-outline-btn",attrs:{type:"button"},on:{click:function(s){return t.oppdaterProsjekt(e,n,"utvalgt")}}},[t._v("Utvalgt")])]),a("div",{staticClass:"btn-group pt-2",attrs:{role:"group"}},[a("button",{staticClass:"btn hk-outline-btn",attrs:{type:"button"},on:{click:function(s){return t.oppdaterProsjekt(e,n,"skole")}}},[t._v("Skole")]),a("button",{staticClass:"btn hk-outline-btn",attrs:{type:"button"},on:{click:function(s){return t.oppdaterProsjekt(e,n,"teknisk")}}},[t._v("Teknisk")]),a("button",{staticClass:"btn hk-outline-btn",attrs:{type:"button"},on:{click:function(s){return t.oppdaterProsjekt(e,n,"helse")}}},[t._v("Helse")])])])}),1)])},zt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"},[s("h1",{staticClass:"h2"},[t._v("Dashboard - Eksterne Prosjekter")])])}],Nt={data:function(){return{prosjekt:[]}},created:function(){var t=this;b.a.firestore().collection("projects").where("kategori","==","eksternt").orderBy("date").onSnapshot(function(e){e.docChanges().forEach(function(e){"added"==e.type&&t.prosjekt.push({id:e.doc.id,title:e.doc.data().title,content:e.doc.data().content,imageUrl:e.doc.data().imageUrl,date:nt()(e.doc.data().date).format("lll"),slug:e.doc.data().slug,creatorId:e.doc.data().creatorId,kategori:e.doc.data().kategori})})})},methods:{oppdaterProsjekt:function(t,e,s){this.prosjekt.splice(e,1),b.a.firestore().collection("projects").doc(t.id).update({kategori:s}).then(function(){console.log("oppdatert til: "+s+" "+t.title)}).catch(function(t){console.log(t)})},slettProsjekt:function(t,e){this.prosjekt.splice(e,1),b.a.firestore().collection("projects").doc(t.id).delete()}}},Mt=Nt,At=Object(v["a"])(Mt,Tt,zt,!1,null,null,null),Ht=At.exports,Rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Toasts"),t._m(0),a("div",{staticClass:"table-responsive"},t._l(t.prosjekt,function(e,n){return a("b-media",{key:e.id,staticClass:"border p-3 my-3 shadow-sm bg-white",attrs:{"vertical-align":"center"}},[e.imageUrl?a("img",{staticClass:"d-none d-sm-block",attrs:{slot:"aside",src:e.imageUrl,blank:"","blank-color":"#ccc",width:"80",height:"80",alt:"placeholder"},slot:"aside"}):a("img",{staticClass:"d-none d-sm-block",attrs:{slot:"aside",src:s("c800"),blank:"","blank-color":"#ccc",width:"80",height:"80",alt:"placeholder"},slot:"aside"}),a("h5",{staticClass:"mt-0 mb-1"},[t._v(t._s(e.title)+" - "+t._s(e.id))]),a("p",{staticClass:"mb-0"},[t._v(t._s(e.content))]),a("p",[a("small",{staticClass:"text-muted"},[t._v(t._s(e.date))])]),a("div",{staticClass:"btn-group pt-2",attrs:{role:"group","aria-label":"Basic example"}},[a("b-button",{staticClass:" hk-outline-btn",attrs:{to:"/prosjekt/"+e.id}},[t._v("Les mer")]),a("button",{staticClass:"btn hk-outline-danger",attrs:{type:"button"},on:{click:function(s){return t.slettProsjekt(e,n)}}},[t._v("Slett")]),e.synlig?t._e():a("button",{staticClass:"btn hk-outline-btn",attrs:{type:"button"},on:{click:function(s){return t.oppdaterProsjekt(e,n,"produksjon",!0)}}},[t._v("Synlig")])],1),a("div",{staticClass:"btn-group pt-2",attrs:{role:"group"}},[a("button",{staticClass:"btn hk-outline-btn",attrs:{type:"button"},on:{click:function(s){return t.oppdaterProsjekt(e,n,"eksternt",!1)}}},[t._v("Eksterne")]),a("button",{staticClass:"btn hk-outline-btn",attrs:{type:"button"},on:{click:function(s){return t.oppdaterProsjekt(e,n,"utvalgt",!1)}}},[t._v("Utvalgt")]),a("button",{staticClass:"btn hk-outline-btn",attrs:{type:"button"},on:{click:function(s){return t.oppdaterProsjekt(e,n,"utvalgt",!1)}}},[t._v("Vis prosjekt")])]),a("div",{staticClass:"btn-group pt-2",attrs:{role:"group"}},[a("button",{staticClass:"btn hk-outline-btn",attrs:{type:"button"},on:{click:function(s){return t.oppdaterProsjekt(e,n,"skole",!1)}}},[t._v("Skole")]),a("button",{staticClass:"btn hk-outline-btn",attrs:{type:"button"},on:{click:function(s){return t.oppdaterProsjekt(e,n,"teknisk",!1)}}},[t._v("Teknisk")]),a("button",{staticClass:"btn hk-outline-btn",attrs:{type:"button"},on:{click:function(s){return t.oppdaterProsjekt(e,n,"helse",!1)}}},[t._v("Helse")])])])}),1)],1)},Ft=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"},[s("h1",{staticClass:"h2"},[t._v("Dashboard - Prosjekter i produksjon")])])}],qt={data:function(){return{prosjekt:[]}},created:function(){var t=this;b.a.firestore().collection("projects").where("kategori","==","produksjon").orderBy("date").onSnapshot(function(e){e.docChanges().forEach(function(e){"added"==e.type&&t.prosjekt.push({id:e.doc.id,title:e.doc.data().title,content:e.doc.data().content,imageUrl:e.doc.data().imageUrl,date:nt()(e.doc.data().date).format("lll"),slug:e.doc.data().slug,creatorId:e.doc.data().creatorId,kategori:e.doc.data().kategori,synlig:e.doc.data().synlig})})})},methods:{oppdaterProsjekt:function(t,e,s,a){var n=this;this.prosjekt.splice(e,1),b.a.firestore().collection("projects").doc(t.id).update({kategori:s,synlig:a}).then(function(){console.log("oppdatert til: "+s+" "+t.title),n.$toast.success('Flyttet "'+t.title+'" til '+s)}).catch(function(t){console.log(t)})},slettProsjekt:function(t,e){this.prosjekt.splice(e,1),this.$toast.warning("Prosjektet har blitt slettet."),b.a.firestore().collection("projects").doc(t.id).delete()}}},Vt=qt,Gt=Object(v["a"])(Vt,Rt,Ft,!1,null,null,null),Wt=Gt.exports,Kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("div",{staticClass:"table-responsive"},t._l(t.prosjekt,function(e,n){return a("b-media",{key:e.id,staticClass:"border p-3 my-3 shadow-sm bg-white",attrs:{"vertical-align":"center"}},[e.imageUrl?a("img",{staticClass:"d-none d-sm-block",attrs:{slot:"aside",src:e.imageUrl,blank:"","blank-color":"#ccc",width:"80",height:"80",alt:"placeholder"},slot:"aside"}):a("img",{staticClass:"d-none d-sm-block",attrs:{slot:"aside",src:s("c800"),blank:"","blank-color":"#ccc",width:"80",height:"80",alt:"placeholder"},slot:"aside"}),a("h5",{staticClass:"mt-0 mb-1"},[t._v(t._s(e.title))]),a("p",{staticClass:"mb-0"},[t._v(t._s(e.content))]),a("p",[a("small",{staticClass:"text-muted"},[t._v(t._s(e.date))])]),a("div",{staticClass:"btn-group pt-2",attrs:{role:"group","aria-label":"Basic example"}},[a("b-button",{staticClass:" hk-outline-btn",attrs:{to:"/prosjekt/"+e.id}},[t._v("Les mer")]),a("button",{staticClass:"btn hk-outline-danger",attrs:{type:"button"},on:{click:function(s){return t.slettProsjekt(e,n)}}},[t._v("Slett")]),a("button",{staticClass:"btn hk-outline-btn",attrs:{type:"button"},on:{click:function(s){return t.oppdaterProsjekt(e,n,"produksjon")}}},[t._v("Produksjon")])],1),a("div",{staticClass:"btn-group pt-2",attrs:{role:"group"}},[a("button",{staticClass:"btn hk-outline-btn",attrs:{type:"button"},on:{click:function(s){return t.oppdaterProsjekt(e,n,"eksternt")}}},[t._v("Eksterne")]),a("button",{staticClass:"btn hk-outline-btn",attrs:{type:"button"},on:{click:function(s){return t.oppdaterProsjekt(e,n,"internt")}}},[t._v("Interne")])]),a("div",{staticClass:"btn-group pt-2",attrs:{role:"group"}},[a("button",{staticClass:"btn hk-outline-btn",attrs:{type:"button"},on:{click:function(s){return t.oppdaterProsjekt(e,n,"skole")}}},[t._v("Skole")]),a("button",{staticClass:"btn hk-outline-btn",attrs:{type:"button"},on:{click:function(s){return t.oppdaterProsjekt(e,n,"teknisk")}}},[t._v("Teknisk")]),a("button",{staticClass:"btn hk-outline-btn",attrs:{type:"button"},on:{click:function(s){return t.oppdaterProsjekt(e,n,"helse")}}},[t._v("Helse")])])])}),1)])},Jt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"},[s("h1",{staticClass:"h2"},[t._v("Dashboard - Utvalgte prosjekter")])])}],Xt={data:function(){return{prosjekt:[]}},created:function(){var t=this;b.a.firestore().collection("projects").where("kategori","==","utvalgt").orderBy("date").onSnapshot(function(e){e.docChanges().forEach(function(e){"added"==e.type&&t.prosjekt.push({id:e.doc.id,title:e.doc.data().title,content:e.doc.data().content,imageUrl:e.doc.data().imageUrl,date:nt()(e.doc.data().date).format("lll"),slug:e.doc.data().slug,creatorId:e.doc.data().creatorId,kategori:e.doc.data().kategori})})})},methods:{oppdaterProsjekt:function(t,e,s){this.prosjekt.splice(e,1),b.a.firestore().collection("projects").doc(t.id).update({kategori:s}).then(function(){console.log("oppdatert til: "+s+" "+t.title)}).catch(function(t){console.log(t)})},slettProsjekt:function(t,e){this.prosjekt.splice(e,1),b.a.firestore().collection("projects").doc(t.id).delete()}}},Yt=Xt,Qt=Object(v["a"])(Yt,Kt,Jt,!1,null,null,null),Zt=Qt.exports,te=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"table-responsive-sm bg-white"},[s("table",{staticClass:"table table-striped"},[t._m(0),s("tbody",t._l(t.brukere,function(e,a){return s("tr",{key:e.id},[s("th",{attrs:{scope:"row"}},[t._v(t._s(a))]),s("td",[t._v(t._s(e.fnavn)+" "+t._s(e.enavn))]),s("td",[t._v(t._s(e.email))]),s("td",[t._v(t._s(e.telefon))]),s("td",[t._v(t._s(e.userId))]),s("td",[t._v(t._s(e.isAdmin))]),s("td",[t._v(t._s(t.moment(e.joined).format("lll")))])])}),0)])])},ee=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",{attrs:{scope:"col"}},[t._v("#")]),s("th",{attrs:{scope:"col"}},[t._v("Navn")]),s("th",{attrs:{scope:"col"}},[t._v("E-post")]),s("th",{attrs:{scope:"col"}},[t._v("Telefon")]),s("th",{attrs:{scope:"col"}},[t._v("Id")]),s("th",{attrs:{scope:"col"}},[t._v("Admin")]),s("th",{attrs:{scope:"col"}},[t._v("Ble medlem")])])])}],se=(s("3022"),{data:function(){return{brukere:[],moment:nt.a}},created:function(){var t=this;k.firestore().collection("users").onSnapshot(function(e){e.docChanges().forEach(function(e){t.brukere.push(e.doc.data())})})},methods:{slett:function(t,e){k.auth()}}}),ae=se,ne=Object(v["a"])(ae,te,ee,!1,null,null,null),oe=ne.exports,re=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("div",{staticClass:"table-responsive"},t._l(t.prosjekt,function(e,n){return a("b-media",{key:e.id,staticClass:"border p-3 my-3 shadow-sm bg-white",attrs:{"vertical-align":"center"}},[e.imageUrl?a("img",{staticClass:"d-none d-sm-block",attrs:{slot:"aside",src:e.imageUrl,blank:"","blank-color":"#ccc",width:"80",height:"80",alt:"placeholder"},slot:"aside"}):a("img",{staticClass:"d-none d-sm-block",attrs:{slot:"aside",src:s("c800"),blank:"","blank-color":"#ccc",width:"80",height:"80",alt:"placeholder"},slot:"aside"}),a("h5",{staticClass:"mt-0 mb-1"},[t._v(t._s(e.title))]),a("p",{staticClass:"mb-0"},[t._v(t._s(e.content))]),a("p",[a("small",{staticClass:"text-muted"},[t._v(t._s(e.date))])]),a("div",{staticClass:"btn-group pt-2",attrs:{role:"group","aria-label":"Basic example"}},[a("b-button",{staticClass:" hk-outline-btn",attrs:{to:"/prosjekt/"+e.id}},[t._v("Les mer")]),a("button",{staticClass:"btn hk-outline-danger",attrs:{type:"button"},on:{click:function(s){return t.slettProsjekt(e,n)}}},[t._v("Slett")]),a("button",{staticClass:"btn hk-outline-btn",attrs:{type:"button"},on:{click:function(s){return t.oppdaterProsjekt(e,n,"produksjon")}}},[t._v("Produksjon")])],1),a("div",{staticClass:"btn-group pt-2",attrs:{role:"group"}},[a("button",{staticClass:"btn hk-outline-btn",attrs:{type:"button"},on:{click:function(s){return t.oppdaterProsjekt(e,n,"eksternt")}}},[t._v("Eksterne")]),a("button",{staticClass:"btn hk-outline-btn",attrs:{type:"button"},on:{click:function(s){return t.oppdaterProsjekt(e,n,"internt")}}},[t._v("Interne")]),a("button",{staticClass:"btn hk-outline-btn",attrs:{type:"button"},on:{click:function(s){return t.oppdaterProsjekt(e,n,"utvalgt")}}},[t._v("Utvalgt")])]),a("div",{staticClass:"btn-group pt-2",attrs:{role:"group"}},[a("button",{staticClass:"btn hk-outline-btn",attrs:{type:"button"},on:{click:function(s){return t.oppdaterProsjekt(e,n,"teknisk")}}},[t._v("Teknisk")]),a("button",{staticClass:"btn hk-outline-btn",attrs:{type:"button"},on:{click:function(s){return t.oppdaterProsjekt(e,n,"helse")}}},[t._v("Helse")])])])}),1)])},ie=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"},[s("h1",{staticClass:"h2"},[t._v("Dashboard - prosjekter innen Skole")])])}],le={data:function(){return{prosjekt:[]}},created:function(){var t=this;b.a.firestore().collection("projects").where("kategori","==","skole").orderBy("date").onSnapshot(function(e){e.docChanges().forEach(function(e){"added"==e.type&&t.prosjekt.push({id:e.doc.id,title:e.doc.data().title,content:e.doc.data().content,imageUrl:e.doc.data().imageUrl,date:nt()(e.doc.data().date).format("lll"),slug:e.doc.data().slug,creatorId:e.doc.data().creatorId,kategori:e.doc.data().kategori})})})},methods:{oppdaterProsjekt:function(t,e,s){this.prosjekt.splice(e,1),b.a.firestore().collection("projects").doc(t.id).update({kategori:s}).then(function(){console.log("oppdatert til: "+s+" "+t.title)}).catch(function(t){console.log(t)})},slettProsjekt:function(t,e){this.prosjekt.splice(e,1),b.a.firestore().collection("projects").doc(t.id).delete()}}},ce=le,de=Object(v["a"])(ce,re,ie,!1,null,null,null),ue=de.exports,pe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"},[a("h1",{staticClass:"h2"},[t._v("Dashboard - prosjekter innen Teknisk "),a("span",{attrs:{interne:t.prosjekt.length}})])]),a("div",{staticClass:"table-responsive"},t._l(t.prosjekt,function(e,n){return a("b-media",{key:e.id,staticClass:"border p-3 my-3 shadow-sm bg-white",attrs:{"vertical-align":"center"}},[e.imageUrl?a("img",{staticClass:"d-none d-sm-block",attrs:{slot:"aside",src:e.imageUrl,blank:"","blank-color":"#ccc",width:"80",height:"80",alt:"placeholder"},slot:"aside"}):a("img",{staticClass:"d-none d-sm-block",attrs:{slot:"aside",src:s("c800"),blank:"","blank-color":"#ccc",width:"80",height:"80",alt:"placeholder"},slot:"aside"}),a("h5",{staticClass:"mt-0 mb-1"},[t._v(t._s(e.title))]),a("p",{staticClass:"mb-0"},[t._v(t._s(e.content))]),a("p",[a("small",{staticClass:"text-muted"},[t._v(t._s(e.date))])]),a("div",{staticClass:"btn-group pt-2",attrs:{role:"group","aria-label":"Basic example"}},[a("b-button",{staticClass:" hk-outline-btn",attrs:{to:"/prosjekt/"+e.id}},[t._v("Les mer")]),a("button",{staticClass:"btn hk-outline-danger",attrs:{type:"button"},on:{click:function(s){return t.slettProsjekt(e,n)}}},[t._v("Slett")]),a("button",{staticClass:"btn hk-outline-btn",attrs:{type:"button"},on:{click:function(s){return t.oppdaterProsjekt(e,n,"produksjon")}}},[t._v("Produksjon")])],1),a("div",{staticClass:"btn-group pt-2",attrs:{role:"group"}},[a("button",{staticClass:"btn hk-outline-btn",attrs:{type:"button"},on:{click:function(s){return t.oppdaterProsjekt(e,n,"eksternt")}}},[t._v("Eksterne")]),a("button",{staticClass:"btn hk-outline-btn",attrs:{type:"button"},on:{click:function(s){return t.oppdaterProsjekt(e,n,"internt")}}},[t._v("Interne")]),a("button",{staticClass:"btn hk-outline-btn",attrs:{type:"button"},on:{click:function(s){return t.oppdaterProsjekt(e,n,"utvalgt")}}},[t._v("Utvalgt")])]),a("div",{staticClass:"btn-group pt-2",attrs:{role:"group"}},[a("button",{staticClass:"btn hk-outline-btn",attrs:{type:"button"},on:{click:function(s){return t.oppdaterProsjekt(e,n,"skole")}}},[t._v("Skole")]),a("button",{staticClass:"btn hk-outline-btn",attrs:{type:"button"},on:{click:function(s){return t.oppdaterProsjekt(e,n,"helse")}}},[t._v("Helse")])])])}),1)])},me=[],be={data:function(){return{prosjekt:[]}},created:function(){var t=this;b.a.firestore().collection("projects").where("kategori","==","teknisk").orderBy("date").onSnapshot(function(e){e.docChanges().forEach(function(e){"added"==e.type&&t.prosjekt.push({id:e.doc.id,title:e.doc.data().title,content:e.doc.data().content,imageUrl:e.doc.data().imageUrl,date:nt()(e.doc.data().date).format("lll"),slug:e.doc.data().slug,creatorId:e.doc.data().creatorId,kategori:e.doc.data().kategori})})})},methods:{oppdaterProsjekt:function(t,e,s){this.prosjekt.splice(e,1),b.a.firestore().collection("projects").doc(t.id).update({kategori:s}).then(function(){console.log("oppdatert til: "+s+" "+t.title)}).catch(function(t){console.log(t)})},slettProsjekt:function(t,e){this.prosjekt.splice(e,1),b.a.firestore().collection("projects").doc(t.id).delete()}}},fe=be,ke=Object(v["a"])(fe,pe,me,!1,null,null,null),he=ke.exports,ge=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"},[a("h1",{staticClass:"h2"},[t._v("Dashboard - prosjekter innen Helse "),a("span",{attrs:{interne:t.prosjekt.length}})])]),a("div",{staticClass:"table-responsive"},t._l(t.prosjekt,function(e,n){return a("b-media",{key:e.id,staticClass:"border p-3 my-3 shadow-sm bg-white",attrs:{"vertical-align":"center"}},[e.imageUrl?a("img",{staticClass:"d-none d-sm-block",attrs:{slot:"aside",src:e.imageUrl,blank:"","blank-color":"#ccc",width:"80",height:"80",alt:"placeholder"},slot:"aside"}):a("img",{staticClass:"d-none d-sm-block",attrs:{slot:"aside",src:s("c800"),blank:"","blank-color":"#ccc",width:"80",height:"80",alt:"placeholder"},slot:"aside"}),a("h5",{staticClass:"mt-0 mb-1"},[t._v(t._s(e.title))]),a("p",{staticClass:"mb-0"},[t._v(t._s(e.content))]),a("p",[a("small",{staticClass:"text-muted"},[t._v(t._s(e.date))])]),a("div",{staticClass:"btn-group pt-2",attrs:{role:"group","aria-label":"Basic example"}},[a("b-button",{staticClass:" hk-outline-btn",attrs:{to:"/prosjekt/"+e.id}},[t._v("Les mer")]),a("button",{staticClass:"btn hk-outline-danger",attrs:{type:"button"},on:{click:function(s){return t.slettProsjekt(e,n)}}},[t._v("Slett")]),a("button",{staticClass:"btn hk-outline-btn",attrs:{type:"button"},on:{click:function(s){return t.oppdaterProsjekt(e,n,"produksjon")}}},[t._v("Produksjon")])],1),a("div",{staticClass:"btn-group pt-2",attrs:{role:"group"}},[a("button",{staticClass:"btn hk-outline-btn",attrs:{type:"button"},on:{click:function(s){return t.oppdaterProsjekt(e,n,"eksternt")}}},[t._v("Eksterne")]),a("button",{staticClass:"btn hk-outline-btn",attrs:{type:"button"},on:{click:function(s){return t.oppdaterProsjekt(e,n,"internt")}}},[t._v("Interne")]),a("button",{staticClass:"btn hk-outline-btn",attrs:{type:"button"},on:{click:function(s){return t.oppdaterProsjekt(e,n,"utvalgt")}}},[t._v("Utvalgt")])]),a("div",{staticClass:"btn-group pt-2",attrs:{role:"group"}},[a("button",{staticClass:"btn hk-outline-btn",attrs:{type:"button"},on:{click:function(s){return t.oppdaterProsjekt(e,n,"skole")}}},[t._v("Skole")]),a("button",{staticClass:"btn hk-outline-btn",attrs:{type:"button"},on:{click:function(s){return t.oppdaterProsjekt(e,n,"teknisk")}}},[t._v("Teknisk")])])])}),1)])},ve=[],je={data:function(){return{prosjekt:[]}},created:function(){var t=this;b.a.firestore().collection("projects").where("kategori","==","helse").orderBy("date").onSnapshot(function(e){e.docChanges().forEach(function(e){"added"==e.type&&t.prosjekt.push({id:e.doc.id,title:e.doc.data().title,content:e.doc.data().content,imageUrl:e.doc.data().imageUrl,date:nt()(e.doc.data().date).format("lll"),slug:e.doc.data().slug,creatorId:e.doc.data().creatorId,kategori:e.doc.data().kategori})})})},methods:{oppdaterProsjekt:function(t,e,s){this.prosjekt.splice(e,1),b.a.firestore().collection("projects").doc(t.id).update({kategori:s}).then(function(){console.log("oppdatert til: "+s+" "+t.title)}).catch(function(t){console.log(t)})},slettProsjekt:function(t,e){this.prosjekt.splice(e,1),b.a.firestore().collection("projects").doc(t.id).delete()}}},_e=je,Ce=Object(v["a"])(_e,ge,ve,!1,null,null,null),ye=Ce.exports,we=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Toasts"),t._m(0),a("div",{staticClass:"table-responsive"},t._l(t.prosjekt,function(e,n){return a("b-media",{key:e.id,staticClass:"border p-3 my-3 shadow-sm bg-white",attrs:{"vertical-align":"center"}},[e.imageUrl?a("img",{staticClass:"d-none d-sm-block",attrs:{slot:"aside",src:e.imageUrl,blank:"","blank-color":"#ccc",width:"80",height:"80",alt:"placeholder"},slot:"aside"}):a("img",{staticClass:"d-none d-sm-block",attrs:{slot:"aside",src:s("c800"),blank:"","blank-color":"#ccc",width:"80",height:"80",alt:"placeholder"},slot:"aside"}),a("h5",{staticClass:"mt-0 mb-1"},[t._v(t._s(e.title))]),a("p",{staticClass:"mb-0"},[t._v(t._s(e.content))]),a("p",[a("small",{staticClass:"text-muted"},[t._v(t._s(e.date))])]),a("div",{staticClass:"btn-group pt-2",attrs:{role:"group","aria-label":"Basic example"}},[a("b-button",{staticClass:" hk-outline-btn",attrs:{to:"/prosjekt/"+e.id}},[t._v("Les mer")]),a("button",{staticClass:"btn hk-outline-danger",attrs:{type:"button"},on:{click:function(s){return t.slettProsjekt(e,n)}}},[t._v("Slett")]),a("button",{staticClass:"btn hk-outline-btn",attrs:{type:"button"},on:{click:function(s){return t.oppdaterProsjekt(e,n,"produksjon",!1)}}},[t._v("Fjern synlighet")])],1),a("div",{staticClass:"btn-group pt-2",attrs:{role:"group"}},[a("button",{staticClass:"btn hk-outline-btn",attrs:{type:"button"},on:{click:function(s){return t.oppdaterProsjekt(e,n,"internt")}}},[t._v("Interne")]),a("button",{staticClass:"btn hk-outline-btn",attrs:{type:"button"},on:{click:function(s){return t.oppdaterProsjekt(e,n,"eksternt")}}},[t._v("Eksterne")]),a("button",{staticClass:"btn hk-outline-btn",attrs:{type:"button"},on:{click:function(s){return t.oppdaterProsjekt(e,n,"utvalgt")}}},[t._v("Utvalgt")])]),a("div",{staticClass:"btn-group pt-2",attrs:{role:"group"}},[a("button",{staticClass:"btn hk-outline-btn",attrs:{type:"button"},on:{click:function(s){return t.oppdaterProsjekt(e,n,"skole")}}},[t._v("Skole")]),a("button",{staticClass:"btn hk-outline-btn",attrs:{type:"button"},on:{click:function(s){return t.oppdaterProsjekt(e,n,"teknisk")}}},[t._v("Teknisk")]),a("button",{staticClass:"btn hk-outline-btn",attrs:{type:"button"},on:{click:function(s){return t.oppdaterProsjekt(e,n,"helse")}}},[t._v("Helse")])])])}),1)],1)},Pe=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"},[s("h1",{staticClass:"h2"},[t._v("Dashboard - Prosjekter som vises til alle brukere under produksjon")])])}],xe={data:function(){return{prosjekt:[]}},created:function(){var t=this;b.a.firestore().collection("projects").where("synlig","==",!0).orderBy("date","desc").onSnapshot(function(e){e.docChanges().forEach(function(e){"added"==e.type&&t.prosjekt.push({id:e.doc.id,title:e.doc.data().title,content:e.doc.data().content,imageUrl:e.doc.data().imageUrl,date:nt()(e.doc.data().date).format("lll"),slug:e.doc.data().slug,creatorId:e.doc.data().creatorId,kategori:e.doc.data().kategori})})})},methods:{oppdaterProsjekt:function(t,e,s,a){var n=this;this.prosjekt.splice(e,1),b.a.firestore().collection("projects").doc(t.id).update({kategori:s,synlig:a}).then(function(){console.log("oppdatert til: "+s+" "+t.title),n.$toast.success('Flyttet "'+t.title+'" til '+s)}).catch(function(t){console.log(t),n.$toast.error("Kunne ikke oppdatere prosjektet. Refresh siden og prøv på nytt.")})},slettProsjekt:function(t,e){this.prosjekt.splice(e,1),b.a.firestore().collection("projects").doc(t.id).delete(),this.$toast.warning("Prosjektet har blitt slettet.")}}},Ee=xe,Se=Object(v["a"])(Ee,we,Pe,!1,null,null,null),Ie=Se.exports,Ue=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container pt-4"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col text-center pt-3"},[a("p",{staticClass:"d-lg-none h4"},[t._v("Prosjekter i produksjon")]),a("router-link",{staticClass:" my-2 btn btn-lg hk-btn",attrs:{to:"/prosjekter"}},[t._v("Prosjekter i produksjon")]),a("router-link",{staticClass:"ml-2 my-2 btn btn-lg hk-btn",attrs:{to:"/prosjekter/utvalgte"}},[t._v("Utvalgte prosjekter")]),a("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"ml-4",attrs:{title:"Her kan du finne inspirasjon til hvordan du kan skrive prosjektforslaget ditt"}},[a("i",{staticClass:"far fa-question-circle"})]),a("p",{staticClass:"h1 d-none d-lg-block pb-4"},[t._v("Utvalgte Prosjekter")])],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"overflow-auto"},[a("section",{staticClass:"my-5 text-center",attrs:{id:"prosjekter"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},t._l(t.prosjekt.slice((t.currentPage-1)*t.perPage,(t.currentPage-1)*t.perPage+6),function(e){return a("div",{key:e.id,staticClass:"col-lg-4 col-md-6 pb-5"},[a("div",{staticClass:"card shadow-sm h-100"},[a("div",{staticClass:"card-body"},[e.data.imageUrl?a("img",{staticClass:"img-fluid rounded-circle w-50 mb-3",attrs:{src:e.data.imageUrl,alt:"Prosjekt bilde fra innsender"}}):a("img",{staticClass:"img-fluid rounded-circle w-50 mb-3",attrs:{src:s("c800"),alt:"Standard prosjekt bilde om innsender ikke legger ved ett"}}),a("h3",[t._v(t._s(e.data.title))]),a("p",[t._v(t._s(e.data.content))])]),a("router-link",{staticClass:"btn hk-btn mx-3 mb-2",attrs:{router:"",to:"/prosjekt/"+e.id}},[t._v("Les mer")]),a("div",{staticClass:"card-footer"},[a("small",{staticClass:"text-muted"},[t._v("Innsendt: "+t._s(t.moment(e.data.date).format("lll")))])])],1)])}),0)])]),a("b-pagination",{staticClass:"pb-4",attrs:{align:"center","total-rows":t.prosjekt.length,"per-page":t.perPage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)])])])},$e=[],Oe={name:"Prosjekt",data:function(){return{perPage:6,currentPage:1,prosjekt:[],moment:nt.a}},created:function(){var t=this;document.title="Prosjekter";var e=document.getElementById("prosjekter");e.classList.add("active","hk-nav-active"),b.a.firestore().collection("projects").where("kategori","==","utvalgt").orderBy("date","desc").onSnapshot(function(e){e.docChanges().forEach(function(e){"added"==e.type&&t.prosjekt.push({data:e.doc.data(),id:e.doc.id})})})},destroyed:function(){var t=document.getElementById("prosjekter");t.classList.remove("active","hk-nav-active")},computed:{rows:function(){return this.prosjekt.length}}},Be=Oe,Le=(s("1c02"),Object(v["a"])(Be,Ue,$e,!1,null,null,null)),De=Le.exports,Te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home-section bg-light",attrs:{id:"home-section"}},[a("div",{staticClass:"container pt-5"},[a("button",{staticClass:"align-self-start btn hk-btn",on:{click:t.goBack}},[t._v("Tilbake")]),a("section",{attrs:{id:"prosjekterVisning"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-9 col-md-12 pb-5"},[a("div",{staticClass:"card mt-4 h-100 text-center"},[a("div",{staticClass:"card-body"},[t.prosjekt.imageUrl?a("img",{staticClass:"img-fluid rounded w-50 mb-3 border",attrs:{src:t.prosjekt.imageUrl,alt:"Prosjekt bilde fra innsender"}}):a("img",{staticClass:"img-fluid rounded w-25 mb-3 pt-5",attrs:{src:s("51c4"),alt:"Standard prosjekt bilde om innsender ikke legger ved ett"}}),a("h3",{staticClass:"text-center"},[t._v(t._s(t.prosjekt.title))]),a("hr"),a("div",{staticClass:"text-left",domProps:{innerHTML:t._s(t.prosjekt.content)}})]),a("div",{staticClass:"card-footer"},[a("small",{staticClass:"text-muted"},[t._v("Innsendt: "+t._s(t.moment(t.prosjekt.date).format("lll"))+" ")])])])]),t.user.admin?a("div",{staticClass:"col-lg-3"},[a("div",{staticClass:"card mt-4"},[a("div",{staticClass:"card-body"},[a("h5",[t._v("Sendt inn av:")]),a("p",[t._v(t._s(t.bruker.fnavn)+" "+t._s(t.bruker.enavn))]),a("h5",[t._v("E-post:")]),a("p",[t._v(t._s(t.bruker.email))]),a("h5",[t._v("Telefon:")]),a("p",[t._v(t._s(t.bruker.telefon))])])])]):t._e()])])])])])},ze=[],Ne={data:function(){return{prosjekt:{},bruker:[],moment:nt.a}},computed:Object(p["c"])("auth",["user","isLoggedIn"]),props:["id"],created:function(){var t=this;window.scrollTo(0,0),console.log(this.id),k.firestore().collection("projects").doc(this.id).get().then(function(e){console.log(e.data()),t.prosjekt=e.data();var s=e.data().creatorId;k.firestore().collection("users").doc(s).get().then(function(e){t.bruker=e.data()})})},methods:{goBack:function(){this.$router.go(-1)}}},Me=Ne,Ae=Object(v["a"])(Me,Te,ze,!1,null,null,null),He=Ae.exports,Re=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container mt-4 pt-5 new-idea"},[t.takk?s("div",{staticClass:"alert alert-success",attrs:{role:"alert"}},[t._m(0)]):t._e(),t.feil?s("app-feil",{attrs:{text:t.feil.message}}):t._e(),s("h1",{staticClass:"text-center"},[t._v("Send oss din idé!")]),s("b-form",{on:{submit:function(e){return e.preventDefault(),t.onCreateProject(e)}}},[s("b-form-group",{attrs:{id:"exampleInputGroup1",label:"Tittel:","label-for":"exampleInput1"}},[s("b-form-input",{attrs:{id:"exampleInput1",type:"text",placeholder:"Tittel"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),s("b-form-group",{attrs:{label:"Bildefil:"}},[s("b-form-file",{attrs:{accept:"image/*",state:Boolean(t.file),placeholder:"Trykk her for å velge fil","drop-placeholder":"Drop file here..."},on:{change:t.onFilePicked},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}}),s("div",{staticClass:"mt-3"},[t._v("Valgt fil: "+t._s(t.file?t.file.name:""))]),t.imageUrl?s("div",{staticClass:"field"},[s("img",{attrs:{src:t.imageUrl,height:"150px"}})]):t._e()],1),s("b-form-group",{attrs:{id:"exampleInputGroup2",label:"Forklar din idé:","label-for":"exampleInput2"}},[s("vue-editor",{staticClass:"bg-white",attrs:{editorToolbar:t.customToolbar},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1),s("b-form-group",[t._v("\n      Ved å sende inn en idé godtar du at Smart City kan ta kontakt med deg.\n    ")]),s("b-button",{staticClass:"mb-5",attrs:{variant:"danger",id:"resetBtn"},on:{click:t.reset}},[t._v("Nullstill skjema")]),t.takk?t._e():s("b-button",{staticClass:"mb-5 ml-2 hk-btn",attrs:{type:"submit"}},[t._v("Registrer idé")]),t.takk?s("button",{staticClass:"btn hk-btn mb-2 ml-2",attrs:{type:"submit",disabled:""}},[s("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}})]):t._e()],1),s("b-modal",{ref:"my-modal",attrs:{centered:"",title:"Takk for din idé"}},[s("div",{staticClass:"d-block"},[t._v("\n      Din ide er registrert. Denne ideen vil bli vurdert, men vi gjør oppmerksom på at vi ikke kan realisere alle ideer. Ditt innspill kan bidra til et bedre samfunn i halden eller at vi jobber bedre og mer effektivt i Halden kommune. \n    ")]),s("div",{staticClass:"d-block"}),s("div",{attrs:{slot:"modal-footer"},slot:"modal-footer"},[s("button",{staticClass:"btn hk-btn mr-2",on:{click:function(e){t.hideModal(),t.reset()}}},[t._v("Tilbake")]),s("router-link",{staticClass:"btn hk-btn",attrs:{to:"/prosjekter",tag:"button"}},[t._v("Se innovasjonsidéer")])],1)])],1)},Fe=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex align-items-center"},[t._v("\n          Din ide er registrert. Denne ideen vil bli vurdert, men vi gjør oppmerksom på at vi ikke kan realisere alle ideer. Ditt innspill kan bidra til et bedre samfunn i halden.\n        "),s("div",{staticClass:"spinner-border ml-auto",attrs:{role:"status","aria-hidden":"true"}})])}],qe=s("b3e9"),Ve={data:function(){return{title:null,content:null,file:null,slug:null,imageUrl:null,takk:null,feil:null,customToolbar:[[{header:[!1,1,2,3,4,5,6]}],["bold","italic","underline","strike"],[{align:""},{align:"center"},{align:"right"},{align:"justify"}],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"},{list:"check"}],[{indent:"-1"},{indent:"+1"}]]}},components:{VueEditor:qe["VueEditor"]},methods:Object(r["a"])({},Object(p["b"])("prosjekter",["init","createProject"]),{onCreateProject:function(){var t=Object(E["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:null===this.title&&null===this.content&&(this.feil={message:"Tittel eller forklaring kan ikke være tomt."}),this.slug=d()(this.title,{replacement:"-",remove:/[$*_+~.()'"!\._@]/g,lower:!0}),e={title:this.title,content:this.content,date:Date.now(),image:this.imageUrl,slug:this.slug},this.$refs["my-modal"].show(),this.createProject(e);case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),onFilePicked:function(t){var e=this,s=t.target.files,a=s[0].name;a.lastIndexOf(".")<=0&&(this.feil={message:"Filen er ikke gyldig"});var n=new FileReader;n.addEventListener("load",function(){e.imageUrl=n.result}),n.readAsDataURL(s[0]),this.image=s[0]},reset:function(){this.title=null,this.content=null,this.file=null,this.imageUrl=null},showModal:function(){this.$refs["my-modal"].show()},hideModal:function(){this.$refs["my-modal"].hide()}}),created:function(){document.title="Nytt";var t=document.getElementById("ny-idé");t.classList.add("active","hk-nav-active")},destroyed:function(){var t=document.getElementById("ny-idé");t.classList.remove("active","hk-nav-active")}},Ge=Ve,We=Object(v["a"])(Ge,Re,Fe,!1,null,null,null),Ke=We.exports;a["default"].use(x["a"]);var Je=new x["a"]({mode:"history",base:"/",routes:[{path:"/",name:"hjem",component:K},{path:"/om-oss",name:"about",component:tt},{path:"/prosjekter",name:"prosjekter",component:lt},{path:"/prosjekter/utvalgte",name:"utvalgte",component:De},{path:"/ny-idé",name:"createProject",component:Ke,beforeEnter:function(t,e,s){k.firestore().collection("users").doc(k.auth().currentUser.uid).get().then(function(t){t.exists?s():s("/")})}},{path:"/prosjekt/:id",name:"SeProsjekt",props:!0,component:He},{path:"/profil/:id",name:"profil",props:!0,component:bt,beforeEnter:function(t,e,s){var a=k.auth().currentUser;k.firestore().collection("users").doc(a.uid).get().then(function(t){t.exists?s():s("/")})}},{path:"/admin/dashbord",name:"dashbord",props:!0,component:yt,beforeEnter:function(t,e,s){k.firestore().collection("users").doc(k.auth().currentUser.uid).get().then(function(t){console.log(t.exists),!0===t.data().isAdmin?s():s("/")})},children:[{path:"hjem",name:"dashHjem",component:It},{path:"interne",name:"interne",component:Dt},{path:"eksterne",name:"eksterne",component:Ht},{path:"produksjon",name:"produksjon",component:Wt},{path:"utvalgte",name:"dashUtvalgte",component:Zt},{path:"skole",name:"dashSkole",component:ue},{path:"teknisk",name:"dashTeknisk",component:he},{path:"helse",name:"dashHelse",component:ye},{path:"synlige",name:"dashSynlige",component:Ie},{path:"brukere",name:"brukere",component:oe}]}]}),Xe=s("9f7b"),Ye=s.n(Xe);s("f9e3"),s("2dd8"),s("428f");k.auth().onAuthStateChanged(function(t){if(t){t.user&&(t=t.user);var e={id:t.uid};I.collection("users").where("userId","==",t.uid).get().then(function(t){t.forEach(function(t){e.email=t.data().email,e.fnavn=t.data().fnavn,e.enavn=t.data().enavn,e.telefon=t.data().telefon,e.admin=t.data().isAdmin,e.joined=t.data().joined,e.slug=t.data().slug})}),R.commit("auth/setUser",e)}else R.commit("auth/setUser",null)});var Qe=s("ef76"),Ze=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"alert alert-danger",attrs:{dismissible:"",value:!0},on:{input:t.onClose}},[t._v("\n  "+t._s(t.text)+"\n")])},ts=[],es={props:["text"],methods:{onClose:function(){this.$emit("dismissed")}}},ss=es,as=Object(v["a"])(ss,Ze,ts,!1,null,null,null),ns=as.exports,os=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"alert alert-success",attrs:{role:"alert",value:!0},on:{input:t.onClose}},[s("div",{staticClass:"d-flex align-items-center"},[t._v("\n        "+t._s(t.text)+"\n    ")])])},rs=[],is={props:["text"],methods:{onClose:function(){this.$emit("dismissed")}}},ls=is,cs=Object(v["a"])(ls,os,rs,!1,null,null,null),ds=cs.exports;a["default"].component("app-feil",ns),a["default"].component("app-suksess",ds),nt.a.locale("nb"),a["default"].config.productionTip=!1,a["default"].use(Ye.a),a["default"].use(Qe["a"]),new a["default"]({router:Je,store:R,render:function(t){return t(P)}}).$mount("#app")},"5fa6":function(t,e,s){"use strict";var a=s("99cc"),n=s.n(a);n.a},"64a9":function(t,e,s){},"99cc":function(t,e,s){},b50e:function(t,e,s){t.exports=s.p+"img/smart-city-logo.1e95cf39.png"},c800:function(t,e,s){t.exports=s.p+"img/idea2.04ac6516.jpg"},cdf4:function(t,e,s){"use strict";var a=s("4108"),n=s.n(a);n.a},d726:function(t,e,s){"use strict";var a=s("f745"),n=s.n(a);n.a},f745:function(t,e,s){}});
//# sourceMappingURL=app.fc8d5b99.js.map
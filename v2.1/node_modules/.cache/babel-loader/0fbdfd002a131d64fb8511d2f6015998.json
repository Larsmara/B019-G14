{"remainingRequest":"/Users/lars-martin/dev/Bacheloroppgave/B019-G14/v2.1/node_modules/babel-loader/lib/index.js!/Users/lars-martin/dev/Bacheloroppgave/B019-G14/v2.1/node_modules/vuetify-loader/lib/loader.js!/Users/lars-martin/dev/Bacheloroppgave/B019-G14/v2.1/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lars-martin/dev/Bacheloroppgave/B019-G14/v2.1/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lars-martin/dev/Bacheloroppgave/B019-G14/v2.1/src/components/Project/CreateProject.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lars-martin/dev/Bacheloroppgave/B019-G14/v2.1/src/components/Project/CreateProject.vue","mtime":1552337780090},{"path":"/Users/lars-martin/dev/Bacheloroppgave/B019-G14/v2.1/node_modules/cache-loader/dist/cjs.js","mtime":1552476695799},{"path":"/Users/lars-martin/dev/Bacheloroppgave/B019-G14/v2.1/node_modules/babel-loader/lib/index.js","mtime":1552476695677},{"path":"/Users/lars-martin/dev/Bacheloroppgave/B019-G14/v2.1/node_modules/vuetify-loader/lib/loader.js","mtime":1552476699349},{"path":"/Users/lars-martin/dev/Bacheloroppgave/B019-G14/v2.1/node_modules/cache-loader/dist/cjs.js","mtime":1552476695799},{"path":"/Users/lars-martin/dev/Bacheloroppgave/B019-G14/v2.1/node_modules/vue-loader/lib/index.js","mtime":1552476699239}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport _Date$now from \"/Users/lars-martin/dev/Bacheloroppgave/B019-G14/v2.1/node_modules/@babel/runtime-corejs2/core-js/date/now\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport slugify from 'slugify';\nexport default {\n  name: 'CreateProject',\n  data: function data() {\n    return {\n      title: null,\n      content: null,\n      image: null,\n      slug: null,\n      imageUrl: null\n    };\n  },\n  computed: {\n    formIsValid: function formIsValid() {\n      return this.title !== null && this.content !== null;\n    }\n  },\n  methods: {\n    onCreateProject: function onCreateProject() {\n      if (!this.formIsValid) {\n        return;\n      }\n\n      this.slug = slugify(this.title, {\n        replacement: '-',\n        remove: /[$*_+~.()'\"!\\._@]/g,\n        lower: true\n      });\n      var projectData = {\n        title: this.title,\n        content: this.content,\n        date: _Date$now(),\n        image: this.image,\n        slug: this.slug\n      };\n      this.$store.dispatch('createProject', projectData);\n      this.$router.push('/prosjekter');\n    },\n    onFilePicked: function onFilePicked(event) {\n      var _this = this;\n\n      var files = event.target.files;\n      var filename = files[0].name;\n\n      if (filename.lastIndexOf('.') <= 0) {\n        return alert('Please add a valid file!');\n      }\n\n      var fileReader = new FileReader();\n      fileReader.addEventListener('load', function () {\n        _this.imageUrl = fileReader.result;\n      });\n      fileReader.readAsDataURL(files[0]);\n      this.image = files[0];\n    }\n  }\n};",{"version":3,"sources":["CreateProject.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA,OAAA,OAAA,MAAA,SAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,eADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,IADA;AAEA,MAAA,OAAA,EAAA,IAFA;AAGA,MAAA,KAAA,EAAA,IAHA;AAIA,MAAA,IAAA,EAAA,IAJA;AAKA,MAAA,QAAA,EAAA;AALA,KAAA;AAOA,GAVA;AAWA,EAAA,QAAA,EAAA;AACA,IAAA,WADA,yBACA;AACA,aAAA,KAAA,KAAA,KAAA,IAAA,IAAA,KAAA,OAAA,KAAA,IAAA;AACA;AAHA,GAXA;AAgBA,EAAA,OAAA,EAAA;AACA,IAAA,eADA,6BACA;AACA,UAAA,CAAA,KAAA,WAAA,EAAA;AACA;AACA;;AAEA,WAAA,IAAA,GAAA,OAAA,CAAA,KAAA,KAAA,EAAA;AACA,QAAA,WAAA,EAAA,GADA;AAEA,QAAA,MAAA,EAAA,oBAFA;AAGA,QAAA,KAAA,EAAA;AAHA,OAAA,CAAA;AAMA,UAAA,WAAA,GAAA;AACA,QAAA,KAAA,EAAA,KAAA,KADA;AAEA,QAAA,OAAA,EAAA,KAAA,OAFA;AAGA,QAAA,IAAA,EAAA,WAHA;AAIA,QAAA,KAAA,EAAA,KAAA,KAJA;AAKA,QAAA,IAAA,EAAA,KAAA;AALA,OAAA;AAOA,WAAA,MAAA,CAAA,QAAA,CAAA,eAAA,EAAA,WAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,aAAA;AACA,KArBA;AAsBA,IAAA,YAtBA,wBAsBA,KAtBA,EAsBA;AAAA;;AACA,UAAA,KAAA,GAAA,KAAA,CAAA,MAAA,CAAA,KAAA;AACA,UAAA,QAAA,GAAA,KAAA,CAAA,CAAA,CAAA,CAAA,IAAA;;AACA,UAAA,QAAA,CAAA,WAAA,CAAA,GAAA,KAAA,CAAA,EAAA;AACA,eAAA,KAAA,CAAA,0BAAA,CAAA;AACA;;AACA,UAAA,UAAA,GAAA,IAAA,UAAA,EAAA;AACA,MAAA,UAAA,CAAA,gBAAA,CAAA,MAAA,EAAA,YAAA;AACA,QAAA,KAAA,CAAA,QAAA,GAAA,UAAA,CAAA,MAAA;AACA,OAFA;AAGA,MAAA,UAAA,CAAA,aAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,WAAA,KAAA,GAAA,KAAA,CAAA,CAAA,CAAA;AACA;AAlCA;AAhBA,CAAA","sourcesContent":["<template>\n    <div class=\"container new-project\">\n        <!-- <div class=\"row\" v-if=\"tilbakemelding\">\n            <div class=\"card green accent-3\">\n                <h3>{{tilbakemelding}}</h3>\n            </div>\n        </div> -->\n        <form @submit.prevent=\"onCreateProject\" class=\"card-panel\">\n            <h2 class=\"center\">Send oss din idé!</h2>\n            <div class=\"field\">\n                <label for=\"title\">Tittel</label>\n                <input type=\"text\" name=\"title\" v-model=\"title\" required>\n            </div>\n            <div class=\"field\">\n                <label for=\"content\">Forklar din idé</label>\n                <textarea type=\"text\" name=\"content\" v-model=\"content\" class=\"materialize-textarea\" required></textarea>\n            </div>\n            <div class=\"file-field input-field\">\n                <div class=\"btn\">\n                    <span>File</span>\n                    <input type=\"file\" accept=\"image/*\" @change=\"onFilePicked\">\n                </div>\n                <div class=\"file-path-wrapper\">\n                    <input class=\"file-path validate\" type=\"text\">\n                </div>\n            </div>\n            <div class=\"field\" v-if=\"imageUrl\">\n                <img :src=\"imageUrl\" height=\"150px\">\n            </div>\n<!--             <p v-if=\"feedback\" class=\"red-text center\">{{feedback}}</p>--> \n            <div class=\"field\">\n                <button type=\"submit\" class=\"btn blue\" :disabled=\"!formIsValid\">Registrer idé</button>\n            </div>\n        </form>\n    </div>\n</template>\n\n<script>\nimport slugify from 'slugify'\n\n  export default {\n    name: 'CreateProject',\n    data(){\n      return{\n        title: null,\n        content: null,\n        image: null,\n        slug: null,\n        imageUrl: null\n      }\n    },\n    computed: {\n        formIsValid(){\n            return this.title !== null && this.content !== null\n        }\n    },\n    methods: {\n        onCreateProject(){\n            if(!this.formIsValid){\n                return\n            }\n\n            this.slug = slugify(this.title, {\n                replacement: '-',\n                remove: /[$*_+~.()'\"!\\._@]/g,\n                lower: true\n            })\n\n            const projectData = {\n                title: this.title,\n                content: this.content,\n                date: Date.now(),\n                image: this.image,\n                slug: this.slug\n            }\n            this.$store.dispatch('createProject', projectData)\n            this.$router.push('/prosjekter')\n        },\n        onFilePicked(event){\n            const files = event.target.files\n            let filename = files[0].name\n            if (filename.lastIndexOf('.') <= 0) {\n            return alert('Please add a valid file!')\n            }\n            const fileReader = new FileReader()\n            fileReader.addEventListener('load', () => {\n            this.imageUrl = fileReader.result\n            })\n            fileReader.readAsDataURL(files[0])\n            this.image = files[0]\n        }\n    }\n  }\n</script>\n\n<style>\n.new-project{\n  max-width: 50%;\n}\n</style>\n"],"sourceRoot":"src/components/Project"}]}
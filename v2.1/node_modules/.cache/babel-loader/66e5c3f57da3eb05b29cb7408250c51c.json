{"remainingRequest":"/Users/lars-martin/dev/Bacheloroppgave/B019-G14/v2.1/node_modules/babel-loader/lib/index.js!/Users/lars-martin/dev/Bacheloroppgave/B019-G14/v2.1/node_modules/eslint-loader/index.js??ref--13-0!/Users/lars-martin/dev/Bacheloroppgave/B019-G14/v2.1/src/store/admin/index.js","dependencies":[{"path":"/Users/lars-martin/dev/Bacheloroppgave/B019-G14/v2.1/src/store/admin/index.js","mtime":1552247239008},{"path":"/Users/lars-martin/dev/Bacheloroppgave/B019-G14/v2.1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lars-martin/dev/Bacheloroppgave/B019-G14/v2.1/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lars-martin/dev/Bacheloroppgave/B019-G14/v2.1/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import Vue from 'vue';\nimport Vuex from 'vuex';\nimport * as firebase from 'firebase';\nimport moment from 'moment';\nVue.use(Vuex);\nmoment.locale('nb');\nexport default {\n  state: {\n    loading: false,\n    error: null\n  },\n  mutations: {\n    setLoading: function setLoading(state, payload) {\n      state.loading = payload;\n    },\n    setError: function setError(state, payload) {\n      state.error = payload;\n    },\n    clearError: function clearError(state) {\n      state.error = null;\n    }\n  },\n  actions: {\n    // OPPDTATERER PROSJEKTET TIL INTERNT\n    updateToInternt: function updateToInternt(_ref, payload) {\n      var commit = _ref.commit;\n      commit('setLoading', true);\n      commit('clearError');\n      var updateObj = {};\n\n      if (!payload.internt) {\n        updateObj.internt = true;\n      }\n\n      firebase.firestore().collection('projects').doc(payload.id).update({\n        updateObj: updateObj\n      }).then(function () {\n        console.log('Oppdatert til INTERNT');\n        commit('setLoading', false);\n        commit('updateToInternt', payload);\n        window.location.reload();\n      }).catch(function (error) {\n        console.log(error);\n      });\n    },\n    // FJERNER FEILMELDINGER HOS BRUKER\n    clearError: function clearError(_ref2) {\n      var commit = _ref2.commit;\n      commit('clearError');\n    }\n  },\n  getters: {\n    adminProject: function adminProject(state) {\n      return state.loadedProjects.filter(function (project) {\n        return project.internt === false && project.eksternt === false && project.utvalgt === false;\n      });\n    },\n    interneProsjekter: function interneProsjekter(state) {\n      return state.loadedProjects.filter(function (project) {\n        return project.internt;\n      });\n    },\n    eksterneProsjekter: function eksterneProsjekter(state) {\n      return state.loadedProjects.filter(function (project) {\n        return project.eksternt;\n      });\n    },\n    utvalgteProsjekter: function utvalgteProsjekter(state) {\n      return state.loadedProjects.filter(function (project) {\n        return project.utvalgt;\n      });\n    },\n    brukerProsjekter: function brukerProsjekter(state) {\n      return state.loadedProjects.filter(function (project) {\n        return project.creatorId === state.user[0].userId;\n      });\n    },\n    loading: function loading(state) {\n      return state.loading;\n    },\n    error: function error(state) {\n      return state.error;\n    }\n  }\n};",{"version":3,"sources":["/Users/lars-martin/dev/Bacheloroppgave/B019-G14/v2.1/src/store/admin/index.js"],"names":["Vue","Vuex","firebase","moment","use","locale","state","loading","error","mutations","setLoading","payload","setError","clearError","actions","updateToInternt","commit","updateObj","internt","firestore","collection","doc","id","update","then","console","log","window","location","reload","catch","getters","adminProject","loadedProjects","filter","project","eksternt","utvalgt","interneProsjekter","eksterneProsjekter","utvalgteProsjekter","brukerProsjekter","creatorId","user","userId"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport * as firebase from 'firebase'\nimport moment from 'moment'\n\nVue.use(Vuex)\nmoment.locale('nb')\n\nexport default{\n  state: {\n    loading: false,\n    error: null\n  },\n  mutations: {\n    setLoading(state, payload){\n      state.loading = payload\n    },\n    setError(state, payload){\n      state.error = payload\n    },\n    clearError(state){\n      state.error = null\n    }\n  },\n  actions: {\n    // OPPDTATERER PROSJEKTET TIL INTERNT\n    updateToInternt({commit}, payload){\n      commit('setLoading', true)\n      commit('clearError')\n      const updateObj = {}\n\n      if(!payload.internt){\n        updateObj.internt = true\n      }\n      firebase.firestore().collection('projects').doc(payload.id).update({\n        updateObj\n      }).then(() => {\n        console.log('Oppdatert til INTERNT')\n        commit('setLoading', false)\n        commit('updateToInternt', payload)\n        window.location.reload()\n      }).catch(error => {\n        console.log(error)\n      })\n    },\n    // FJERNER FEILMELDINGER HOS BRUKER\n    clearError({commit}){\n      commit('clearError')\n    }\n  },\n  getters: {\n    adminProject(state){\n      return state.loadedProjects.filter(project => project.internt === false && project.eksternt === false && project.utvalgt === false)\n    },\n    interneProsjekter(state){\n      return state.loadedProjects.filter(project => project.internt)\n    },\n    eksterneProsjekter(state){\n      return state.loadedProjects.filter(project => project.eksternt)\n    },\n    utvalgteProsjekter(state){\n      return state.loadedProjects.filter(project => project.utvalgt)\n    },\n    brukerProsjekter(state){\n      return state.loadedProjects.filter(project => project.creatorId === state.user[0].userId)\n    },\n    loading(state){\n      return state.loading\n    },\n    error(state){\n      return state.error\n    }\n  }\n}\n"]}]}